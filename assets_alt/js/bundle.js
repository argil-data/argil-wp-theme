"use strict";(self.webpackChunkargilfoliox=self.webpackChunkargilfoliox||[]).push([[852],{774:function(t){t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var n=t(e);return e[2]?"@media ".concat(e[2]," {").concat(n,"}"):n})).join("")},e.i=function(t,n,i){"string"==typeof t&&(t=[[null,t,""]]);var r={};if(i)for(var o=0;o<this.length;o++){var s=this[o][0];null!=s&&(r[s]=!0)}for(var u=0;u<t.length;u++){var c=[].concat(t[u]);i&&r[c[0]]||(n&&(c[2]?c[2]="".concat(n," and ").concat(c[2]):c[2]=n),e.push(c))}},e}},95:function(t){function e(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=t&&("undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"]);if(null==n)return;var i,r,o=[],s=!0,u=!1;try{for(n=n.call(t);!(s=(i=n.next()).done)&&(o.push(i.value),!e||o.length!==e);s=!0);}catch(t){u=!0,r=t}finally{try{s||null==n.return||n.return()}finally{if(u)throw r}}return o}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return n(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);if("Map"===i||"Set"===i)return Array.from(t);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return n(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function n(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}t.exports=function(t){var n=e(t,4),i=n[1],r=n[3];if(!r)return i;if("function"==typeof btoa){var o=btoa(unescape(encodeURIComponent(JSON.stringify(r)))),s="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(o),u="/*# ".concat(s," */"),c=r.sources.map((function(t){return"/*# sourceURL=".concat(r.sourceRoot||"").concat(t," */")}));return[i].concat(c).concat([u]).join("\n")}return[i].join("\n")}},130:function(t,e,n){var i=n(931),r=(n(972),n(280),n(709),n(702)),o=n.n(r);window.jQuery=window.$=n(702),o()(".c-navigation").on("mouseenter",".menu-item-has-children",(function(t){o()(t.currentTarget).parent(".sub-menu").length||o()(".menu > .menu-item.open").find(" > a > .menu-button").trigger("click"),o()(t.currentTarget).addClass("open")})).on("mouseleave",".menu-item-has-children",(function(t){o()(t.currentTarget).removeClass("open")})),o()(".c-navigation").on("click",".menu .menu-button",(function(t){t.preventDefault(),t.stopPropagation();var e=o()(t.currentTarget),n=e.parent(),i=n.parent();console.log(i),i.hasClass("open")?(i.add(i.find(".menu-item.open")).removeClass("open"),n.add(i.find("a")).attr("aria-expanded","false"),e.find("menu-button-show").attr("aria-hidden","false"),e.find("menu-button-hide").attr("aria-hidden","true")):(i.siblings(".open").find(" > a > .menu-button").trigger("click"),i.addClass("open"),n.attr("aria-expanded","true"),e.find("menu-button-show").attr("aria-hidden","true"),e.find("menu-button-hide").attr("aria-hidden","false"))})),o()(document).click((function(t){o()(".menu-item.open").length&&o()(".menu > .menu-item.open > a > .menu-button").trigger("click")})),window.jQuery=window.$=n(702),window.Swiper=n(931),console.log("Hello from bundleJS!");var s=document.getElementById("js-top");window.addEventListener("scroll",(function(){var t=window.scrollY;s.className=t>0?"top-link show":"top-link hide"}));jQuery((function(t){var e,n,r=(e=t(".js-accordion").find(".js-accordion-header"),t(".js-accordion-item"),n={speed:400,oneOpen:!1},{init:function(i){e.on("click",(function(){r.toggle(t(this))})),t.extend(n,i),n.oneOpen&&t(".js-accordion-item.active").length>1&&t(".js-accordion-item.active:not(:first)").removeClass("active"),t(".js-accordion-item.active").find("> .js-accordion-body").show()},toggle:function(t){n.oneOpen&&t[0]!=t.closest(".js-accordion").find("> .js-accordion-item.active > .js-accordion-header")[0]&&t.closest(".js-accordion").find("> .js-accordion-item").removeClass("active").find(".js-accordion-body").slideUp(),t.closest(".js-accordion-item").toggleClass("active"),t.next().stop().slideToggle(n.speed)}});t((function(){r.init({speed:300,oneOpen:!0})})),i.default.use([i.Navigation,i.Pagination]),new i.default(".swiper",{modules:[i.Navigation,i.Pagination],direction:"horizontal",a11y:!0,autoplay:!0,centeredSlides:!0,speed:400,slidesPerView:1,pagination:{el:".swiper-pagination",clickable:!0},navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},scrollbar:{el:".swiper-scrollbar"}}).init()}))},257:function(t,e,n){var i,r=function(){return void 0===i&&(i=Boolean(window&&document&&document.all&&!window.atob)),i},o=function(){var t={};return function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(t){n=null}t[e]=n}return t[e]}}(),s=[];function u(t){for(var e=-1,n=0;n<s.length;n++)if(s[n].identifier===t){e=n;break}return e}function c(t,e){for(var n={},i=[],r=0;r<t.length;r++){var o=t[r],c=e.base?o[0]+e.base:o[0],l=n[c]||0,a="".concat(c," ").concat(l);n[c]=l+1;var f=u(a),h={css:o[1],media:o[2],sourceMap:o[3]};-1!==f?(s[f].references++,s[f].updater(h)):s.push({identifier:a,updater:g(h,e),references:1}),i.push(a)}return i}function l(t){var e=document.createElement("style"),i=t.attributes||{};if(void 0===i.nonce){var r=n.nc;r&&(i.nonce=r)}if(Object.keys(i).forEach((function(t){e.setAttribute(t,i[t])})),"function"==typeof t.insert)t.insert(e);else{var s=o(t.insert||"head");if(!s)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");s.appendChild(e)}return e}var a,f=(a=[],function(t,e){return a[t]=e,a.filter(Boolean).join("\n")});function h(t,e,n,i){var r=n?"":i.media?"@media ".concat(i.media," {").concat(i.css,"}"):i.css;if(t.styleSheet)t.styleSheet.cssText=f(e,r);else{var o=document.createTextNode(r),s=t.childNodes;s[e]&&t.removeChild(s[e]),s.length?t.insertBefore(o,s[e]):t.appendChild(o)}}function d(t,e,n){var i=n.css,r=n.media,o=n.sourceMap;if(r?t.setAttribute("media",r):t.removeAttribute("media"),o&&"undefined"!=typeof btoa&&(i+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),t.styleSheet)t.styleSheet.cssText=i;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(i))}}var p=null,m=0;function g(t,e){var n,i,r;if(e.singleton){var o=m++;n=p||(p=l(e)),i=h.bind(null,n,o,!1),r=h.bind(null,n,o,!0)}else n=l(e),i=d.bind(null,n,e),r=function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(n)};return i(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;i(t=e)}else r()}}t.exports=function(t,e){(e=e||{}).singleton||"boolean"==typeof e.singleton||(e.singleton=r());var n=c(t=t||[],e);return function(t){if(t=t||[],"[object Array]"===Object.prototype.toString.call(t)){for(var i=0;i<n.length;i++){var r=u(n[i]);s[r].references--}for(var o=c(t,e),l=0;l<n.length;l++){var a=u(n[l]);0===s[a].references&&(s[a].updater(),s.splice(a,1))}n=o}}}},227:function(t,e,n){n.d(e,{$:function(){return u},Ce:function(){return I},IV:function(){return l},Kz:function(){return A},Lj:function(){return h},Od:function(){return F},Pb:function(){return w},R3:function(){return k},S1:function(){return v},S6:function(){return x},Vj:function(){return a},W2:function(){return S},X$:function(){return y},cn:function(){return c},cv:function(){return L},dy:function(){return T},eG:function(){return _},eR:function(){return m},eq:function(){return M},fL:function(){return N},hX:function(){return C},iO:function(){return E},is:function(){return O},iv:function(){return j},ld:function(){return b},lp:function(){return P},mp:function(){return J},on:function(){return g},oq:function(){return H},pI:function(){return R},pJ:function(){return V},pv:function(){return f},qm:function(){return q},sE:function(){return D},uV:function(){return d},vs:function(){return p},wV:function(){return B}});var i=n(959);class r extends Array{constructor(t){"number"==typeof t?super(t):(super(...t||[]),function(t){const e=t.__proto__;Object.defineProperty(t,"__proto__",{get:()=>e,set(t){e.__proto__=t}})}(this))}}function o(t=[]){const e=[];return t.forEach((t=>{Array.isArray(t)?e.push(...o(t)):e.push(t)})),e}function s(t,e){return Array.prototype.filter.call(t,e)}function u(t,e){const n=(0,i.Jj)(),o=(0,i.Me)();let s=[];if(!e&&t instanceof r)return t;if(!t)return new r(s);if("string"==typeof t){const n=t.trim();if(n.indexOf("<")>=0&&n.indexOf(">")>=0){let t="div";0===n.indexOf("<li")&&(t="ul"),0===n.indexOf("<tr")&&(t="tbody"),0!==n.indexOf("<td")&&0!==n.indexOf("<th")||(t="tr"),0===n.indexOf("<tbody")&&(t="table"),0===n.indexOf("<option")&&(t="select");const e=o.createElement(t);e.innerHTML=n;for(let t=0;t<e.childNodes.length;t+=1)s.push(e.childNodes[t])}else s=function(t,e){if("string"!=typeof t)return[t];const n=[],i=e.querySelectorAll(t);for(let t=0;t<i.length;t+=1)n.push(i[t]);return n}(t.trim(),e||o)}else if(t.nodeType||t===n||t===o)s.push(t);else if(Array.isArray(t)){if(t instanceof r)return t;s=t}return new r(function(t){const e=[];for(let n=0;n<t.length;n+=1)-1===e.indexOf(t[n])&&e.push(t[n]);return e}(s))}function c(...t){const e=o(t.map((t=>t.split(" "))));return this.forEach((t=>{t.classList.add(...e)})),this}function l(...t){const e=o(t.map((t=>t.split(" "))));return this.forEach((t=>{t.classList.remove(...e)})),this}function a(...t){const e=o(t.map((t=>t.split(" "))));this.forEach((t=>{e.forEach((e=>{t.classList.toggle(e)}))}))}function f(...t){const e=o(t.map((t=>t.split(" "))));return s(this,(t=>e.filter((e=>t.classList.contains(e))).length>0)).length>0}function h(t,e){if(1===arguments.length&&"string"==typeof t)return this[0]?this[0].getAttribute(t):void 0;for(let n=0;n<this.length;n+=1)if(2===arguments.length)this[n].setAttribute(t,e);else for(const e in t)this[n][e]=t[e],this[n].setAttribute(e,t[e]);return this}function d(t){for(let e=0;e<this.length;e+=1)this[e].removeAttribute(t);return this}function p(t){for(let e=0;e<this.length;e+=1)this[e].style.transform=t;return this}function m(t){for(let e=0;e<this.length;e+=1)this[e].style.transitionDuration="string"!=typeof t?`${t}ms`:t;return this}function g(...t){let[e,n,i,r]=t;function o(t){const e=t.target;if(!e)return;const r=t.target.dom7EventData||[];if(r.indexOf(t)<0&&r.unshift(t),u(e).is(n))i.apply(e,r);else{const t=u(e).parents();for(let e=0;e<t.length;e+=1)u(t[e]).is(n)&&i.apply(t[e],r)}}function s(t){const e=t&&t.target&&t.target.dom7EventData||[];e.indexOf(t)<0&&e.unshift(t),i.apply(this,e)}"function"==typeof t[1]&&([e,i,r]=t,n=void 0),r||(r=!1);const c=e.split(" ");let l;for(let t=0;t<this.length;t+=1){const e=this[t];if(n)for(l=0;l<c.length;l+=1){const t=c[l];e.dom7LiveListeners||(e.dom7LiveListeners={}),e.dom7LiveListeners[t]||(e.dom7LiveListeners[t]=[]),e.dom7LiveListeners[t].push({listener:i,proxyListener:o}),e.addEventListener(t,o,r)}else for(l=0;l<c.length;l+=1){const t=c[l];e.dom7Listeners||(e.dom7Listeners={}),e.dom7Listeners[t]||(e.dom7Listeners[t]=[]),e.dom7Listeners[t].push({listener:i,proxyListener:s}),e.addEventListener(t,s,r)}}return this}function v(...t){let[e,n,i,r]=t;"function"==typeof t[1]&&([e,i,r]=t,n=void 0),r||(r=!1);const o=e.split(" ");for(let t=0;t<o.length;t+=1){const e=o[t];for(let t=0;t<this.length;t+=1){const o=this[t];let s;if(!n&&o.dom7Listeners?s=o.dom7Listeners[e]:n&&o.dom7LiveListeners&&(s=o.dom7LiveListeners[e]),s&&s.length)for(let t=s.length-1;t>=0;t-=1){const n=s[t];i&&n.listener===i||i&&n.listener&&n.listener.dom7proxy&&n.listener.dom7proxy===i?(o.removeEventListener(e,n.proxyListener,r),s.splice(t,1)):i||(o.removeEventListener(e,n.proxyListener,r),s.splice(t,1))}}}return this}function y(...t){const e=(0,i.Jj)(),n=t[0].split(" "),r=t[1];for(let i=0;i<n.length;i+=1){const o=n[i];for(let n=0;n<this.length;n+=1){const i=this[n];if(e.CustomEvent){const n=new e.CustomEvent(o,{detail:r,bubbles:!0,cancelable:!0});i.dom7EventData=t.filter(((t,e)=>e>0)),i.dispatchEvent(n),i.dom7EventData=[],delete i.dom7EventData}}}return this}function b(t){const e=this;return t&&e.on("transitionend",(function n(i){i.target===this&&(t.call(this,i),e.off("transitionend",n))})),this}function E(t){if(this.length>0){if(t){const t=this.styles();return this[0].offsetWidth+parseFloat(t.getPropertyValue("margin-right"))+parseFloat(t.getPropertyValue("margin-left"))}return this[0].offsetWidth}return null}function w(t){if(this.length>0){if(t){const t=this.styles();return this[0].offsetHeight+parseFloat(t.getPropertyValue("margin-top"))+parseFloat(t.getPropertyValue("margin-bottom"))}return this[0].offsetHeight}return null}function L(){if(this.length>0){const t=(0,i.Jj)(),e=(0,i.Me)(),n=this[0],r=n.getBoundingClientRect(),o=e.body,s=n.clientTop||o.clientTop||0,u=n.clientLeft||o.clientLeft||0,c=n===t?t.scrollY:n.scrollTop,l=n===t?t.scrollX:n.scrollLeft;return{top:r.top+c-s,left:r.left+l-u}}return null}function S(){const t=(0,i.Jj)();return this[0]?t.getComputedStyle(this[0],null):{}}function j(t,e){const n=(0,i.Jj)();let r;if(1===arguments.length){if("string"!=typeof t){for(r=0;r<this.length;r+=1)for(const e in t)this[r].style[e]=t[e];return this}if(this[0])return n.getComputedStyle(this[0],null).getPropertyValue(t)}if(2===arguments.length&&"string"==typeof t){for(r=0;r<this.length;r+=1)this[r].style[t]=e;return this}return this}function x(t){return t?(this.forEach(((e,n)=>{t.apply(e,[e,n])})),this):this}function C(t){return u(s(this,t))}function T(t){if(void 0===t)return this[0]?this[0].innerHTML:null;for(let e=0;e<this.length;e+=1)this[e].innerHTML=t;return this}function N(t){if(void 0===t)return this[0]?this[0].textContent.trim():null;for(let e=0;e<this.length;e+=1)this[e].textContent=t;return this}function O(t){const e=(0,i.Jj)(),n=(0,i.Me)(),o=this[0];let s,c;if(!o||void 0===t)return!1;if("string"==typeof t){if(o.matches)return o.matches(t);if(o.webkitMatchesSelector)return o.webkitMatchesSelector(t);if(o.msMatchesSelector)return o.msMatchesSelector(t);for(s=u(t),c=0;c<s.length;c+=1)if(s[c]===o)return!0;return!1}if(t===n)return o===n;if(t===e)return o===e;if(t.nodeType||t instanceof r){for(s=t.nodeType?[t]:t,c=0;c<s.length;c+=1)if(s[c]===o)return!0;return!1}return!1}function A(){let t,e=this[0];if(e){for(t=0;null!==(e=e.previousSibling);)1===e.nodeType&&(t+=1);return t}}function M(t){if(void 0===t)return this;const e=this.length;if(t>e-1)return u([]);if(t<0){const n=e+t;return u(n<0?[]:[this[n]])}return u([this[t]])}function k(...t){let e;const n=(0,i.Me)();for(let i=0;i<t.length;i+=1){e=t[i];for(let t=0;t<this.length;t+=1)if("string"==typeof e){const i=n.createElement("div");for(i.innerHTML=e;i.firstChild;)this[t].appendChild(i.firstChild)}else if(e instanceof r)for(let n=0;n<e.length;n+=1)this[t].appendChild(e[n]);else this[t].appendChild(e)}return this}function I(t){const e=(0,i.Me)();let n,o;for(n=0;n<this.length;n+=1)if("string"==typeof t){const i=e.createElement("div");for(i.innerHTML=t,o=i.childNodes.length-1;o>=0;o-=1)this[n].insertBefore(i.childNodes[o],this[n].childNodes[0])}else if(t instanceof r)for(o=0;o<t.length;o+=1)this[n].insertBefore(t[o],this[n].childNodes[0]);else this[n].insertBefore(t,this[n].childNodes[0]);return this}function P(t){return this.length>0?t?this[0].nextElementSibling&&u(this[0].nextElementSibling).is(t)?u([this[0].nextElementSibling]):u([]):this[0].nextElementSibling?u([this[0].nextElementSibling]):u([]):u([])}function _(t){const e=[];let n=this[0];if(!n)return u([]);for(;n.nextElementSibling;){const i=n.nextElementSibling;t?u(i).is(t)&&e.push(i):e.push(i),n=i}return u(e)}function J(t){if(this.length>0){const e=this[0];return t?e.previousElementSibling&&u(e.previousElementSibling).is(t)?u([e.previousElementSibling]):u([]):e.previousElementSibling?u([e.previousElementSibling]):u([])}return u([])}function V(t){const e=[];let n=this[0];if(!n)return u([]);for(;n.previousElementSibling;){const i=n.previousElementSibling;t?u(i).is(t)&&e.push(i):e.push(i),n=i}return u(e)}function q(t){const e=[];for(let n=0;n<this.length;n+=1)null!==this[n].parentNode&&(t?u(this[n].parentNode).is(t)&&e.push(this[n].parentNode):e.push(this[n].parentNode));return u(e)}function B(t){const e=[];for(let n=0;n<this.length;n+=1){let i=this[n].parentNode;for(;i;)t?u(i).is(t)&&e.push(i):e.push(i),i=i.parentNode}return u(e)}function H(t){let e=this;return void 0===t?u([]):(e.is(t)||(e=e.parents(t).eq(0)),e)}function D(t){const e=[];for(let n=0;n<this.length;n+=1){const i=this[n].querySelectorAll(t);for(let t=0;t<i.length;t+=1)e.push(i[t])}return u(e)}function R(t){const e=[];for(let n=0;n<this.length;n+=1){const i=this[n].children;for(let n=0;n<i.length;n+=1)t&&!u(i[n]).is(t)||e.push(i[n])}return u(e)}function F(){for(let t=0;t<this.length;t+=1)this[t].parentNode&&this[t].parentNode.removeChild(this[t]);return this}u.fn=r.prototype;const U="resize scroll".split(" ");function $(t){return function(...e){if(void 0===e[0]){for(let e=0;e<this.length;e+=1)U.indexOf(t)<0&&(t in this[e]?this[e][t]():u(this[e]).trigger(t));return this}return this.on(t,...e)}}$("click"),$("blur"),$("focus"),$("focusin"),$("focusout"),$("keyup"),$("keydown"),$("keypress"),$("submit"),$("change"),$("mousedown"),$("mousemove"),$("mouseup"),$("mouseenter"),$("mouseleave"),$("mouseout"),$("mouseover"),$("touchstart"),$("touchend"),$("touchmove"),$("resize"),$("scroll")},959:function(t,e,n){function i(t){return null!==t&&"object"==typeof t&&"constructor"in t&&t.constructor===Object}function r(t={},e={}){Object.keys(e).forEach((n=>{void 0===t[n]?t[n]=e[n]:i(e[n])&&i(t[n])&&Object.keys(e[n]).length>0&&r(t[n],e[n])}))}n.d(e,{Jj:function(){return c},Me:function(){return s}});const o={body:{},addEventListener(){},removeEventListener(){},activeElement:{blur(){},nodeName:""},querySelector:()=>null,querySelectorAll:()=>[],getElementById:()=>null,createEvent:()=>({initEvent(){}}),createElement:()=>({children:[],childNodes:[],style:{},setAttribute(){},getElementsByTagName:()=>[]}),createElementNS:()=>({}),importNode:()=>null,location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function s(){const t="undefined"!=typeof document?document:{};return r(t,o),t}const u={document:o,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState(){},pushState(){},go(){},back(){}},CustomEvent:function(){return this},addEventListener(){},removeEventListener(){},getComputedStyle:()=>({getPropertyValue:()=>""}),Image(){},Date(){},screen:{},setTimeout(){},clearTimeout(){},matchMedia:()=>({}),requestAnimationFrame:t=>"undefined"==typeof setTimeout?(t(),null):setTimeout(t,0),cancelAnimationFrame(t){"undefined"!=typeof setTimeout&&clearTimeout(t)}};function c(){const t="undefined"!=typeof window?window:{};return r(t,u),t}}},function(t){t.O(0,[931],(function(){return e=130,t(t.s=e);var e}));t.O()}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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Z0JBQWUsS0FDSixJQUVYQyxXQUFVLElBQ0MsS0FFWEMsU0FBVSxDQUNOQyxLQUFNLEdBQ05DLEtBQU0sR0FDTkMsU0FBVSxHQUNWQyxLQUFNLEdBQ05DLE9BQVEsR0FDUkMsU0FBVSxHQUNWQyxTQUFVLEdBQ1ZDLE9BQVEsS0FHaEIsU0FBU3RJLElBQ0wsTUFBTXVJLEVBQTBCLG9CQUFiclEsU0FBMkJBLFNBQVcsR0FFekQsT0FEQWlCLEVBQU9vUCxFQUFLbEIsR0FDTGtCLEVBR1gsTUFBTUMsRUFBWSxDQUNkdFEsU0FBVW1QLEVBQ1ZvQixVQUFXLENBQ1BDLFVBQVcsSUFFZlosU0FBVSxDQUNOQyxLQUFNLEdBQ05DLEtBQU0sR0FDTkMsU0FBVSxHQUNWQyxLQUFNLEdBQ05DLE9BQVEsR0FDUkMsU0FBVSxHQUNWQyxTQUFVLEdBQ1ZDLE9BQVEsSUFFWkssUUFBUyxDQUNMQyxpQkFDQUMsY0FDQUMsT0FDQUMsVUFFSnpGLFlBQWEsV0FDVCxPQUFPMVEsTUFFWDJGLHFCQUNBOEssd0JBQ0E4QixpQkFBZ0IsS0FDTCxDQUNIZCxpQkFBZ0IsSUFDTCxLQUluQjJFLFVBQ0FDLFNBQ0FDLE9BQVEsR0FDUkMsZUFDQUMsaUJBQ0FDLFdBQVUsS0FDQyxJQUVYQyxzQkFBc0IxSixHQUNRLG9CQUFmdUosWUFDUHZKLElBQ08sTUFFSnVKLFdBQVd2SixFQUFVLEdBRWhDMkoscUJBQXFCL1YsR0FDUyxvQkFBZjJWLFlBR1hDLGFBQWE1VixLQUdyQixTQUFTdU0sSUFDTCxNQUFNeUosRUFBd0Isb0JBQVg3UyxPQUF5QkEsT0FBUyxHQUVyRCxPQURBd0MsRUFBT3FRLEVBQUtoQixHQUNMZ0IsSyIsInNvdXJjZXMiOlsid2VicGFjazovL2FyZ2lsZm9saW94Ly4vbm9kZV9tb2R1bGVzLy5wbnBtL2Nzcy1sb2FkZXJANS4yLjdfd2VicGFja0A1LjcyLjEvbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9ydW50aW1lL2FwaS5qcyIsIndlYnBhY2s6Ly9hcmdpbGZvbGlveC8uL25vZGVfbW9kdWxlcy8ucG5wbS9jc3MtbG9hZGVyQDUuMi43X3dlYnBhY2tANS43Mi4xL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvcnVudGltZS9jc3NXaXRoTWFwcGluZ1RvU3RyaW5nLmpzIiwid2VicGFjazovL2FyZ2lsZm9saW94Ly4vcmVzb3VyY2VzL2pzL2NvbXBvbmVudHMvbmF2aWdhdGlvbi5qcyIsIndlYnBhY2s6Ly9hcmdpbGZvbGlveC8uL3Jlc291cmNlcy9qcy9idW5kbGUuanMiLCJ3ZWJwYWNrOi8vYXJnaWxmb2xpb3gvLi9ub2RlX21vZHVsZXMvLnBucG0vc3R5bGUtbG9hZGVyQDIuMC4wX3dlYnBhY2tANS43Mi4xL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL2luamVjdFN0eWxlc0ludG9TdHlsZVRhZy5qcyIsIndlYnBhY2s6Ly9hcmdpbGZvbGlveC8uL25vZGVfbW9kdWxlcy8ucG5wbS9kb203QDQuMC40L25vZGVfbW9kdWxlcy9kb203L2RvbTcuZXNtLmpzIiwid2VicGFjazovL2FyZ2lsZm9saW94Ly4vbm9kZV9tb2R1bGVzLy5wbnBtL3Nzci13aW5kb3dANC4wLjIvbm9kZV9tb2R1bGVzL3Nzci13aW5kb3cvc3NyLXdpbmRvdy5lc20uanMiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5cbi8qXG4gIE1JVCBMaWNlbnNlIGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2UucGhwXG4gIEF1dGhvciBUb2JpYXMgS29wcGVycyBAc29rcmFcbiovXG4vLyBjc3MgYmFzZSBjb2RlLCBpbmplY3RlZCBieSB0aGUgY3NzLWxvYWRlclxuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGZ1bmMtbmFtZXNcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGNzc1dpdGhNYXBwaW5nVG9TdHJpbmcpIHtcbiAgdmFyIGxpc3QgPSBbXTsgLy8gcmV0dXJuIHRoZSBsaXN0IG9mIG1vZHVsZXMgYXMgY3NzIHN0cmluZ1xuXG4gIGxpc3QudG9TdHJpbmcgPSBmdW5jdGlvbiB0b1N0cmluZygpIHtcbiAgICByZXR1cm4gdGhpcy5tYXAoZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICAgIHZhciBjb250ZW50ID0gY3NzV2l0aE1hcHBpbmdUb1N0cmluZyhpdGVtKTtcblxuICAgICAgaWYgKGl0ZW1bMl0pIHtcbiAgICAgICAgcmV0dXJuIFwiQG1lZGlhIFwiLmNvbmNhdChpdGVtWzJdLCBcIiB7XCIpLmNvbmNhdChjb250ZW50LCBcIn1cIik7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBjb250ZW50O1xuICAgIH0pLmpvaW4oXCJcIik7XG4gIH07IC8vIGltcG9ydCBhIGxpc3Qgb2YgbW9kdWxlcyBpbnRvIHRoZSBsaXN0XG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBmdW5jLW5hbWVzXG5cblxuICBsaXN0LmkgPSBmdW5jdGlvbiAobW9kdWxlcywgbWVkaWFRdWVyeSwgZGVkdXBlKSB7XG4gICAgaWYgKHR5cGVvZiBtb2R1bGVzID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tcGFyYW0tcmVhc3NpZ25cbiAgICAgIG1vZHVsZXMgPSBbW251bGwsIG1vZHVsZXMsIFwiXCJdXTtcbiAgICB9XG5cbiAgICB2YXIgYWxyZWFkeUltcG9ydGVkTW9kdWxlcyA9IHt9O1xuXG4gICAgaWYgKGRlZHVwZSkge1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBwcmVmZXItZGVzdHJ1Y3R1cmluZ1xuICAgICAgICB2YXIgaWQgPSB0aGlzW2ldWzBdO1xuXG4gICAgICAgIGlmIChpZCAhPSBudWxsKSB7XG4gICAgICAgICAgYWxyZWFkeUltcG9ydGVkTW9kdWxlc1tpZF0gPSB0cnVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IG1vZHVsZXMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICB2YXIgaXRlbSA9IFtdLmNvbmNhdChtb2R1bGVzW19pXSk7XG5cbiAgICAgIGlmIChkZWR1cGUgJiYgYWxyZWFkeUltcG9ydGVkTW9kdWxlc1tpdGVtWzBdXSkge1xuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tY29udGludWVcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG5cbiAgICAgIGlmIChtZWRpYVF1ZXJ5KSB7XG4gICAgICAgIGlmICghaXRlbVsyXSkge1xuICAgICAgICAgIGl0ZW1bMl0gPSBtZWRpYVF1ZXJ5O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGl0ZW1bMl0gPSBcIlwiLmNvbmNhdChtZWRpYVF1ZXJ5LCBcIiBhbmQgXCIpLmNvbmNhdChpdGVtWzJdKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBsaXN0LnB1c2goaXRlbSk7XG4gICAgfVxuICB9O1xuXG4gIHJldHVybiBsaXN0O1xufTsiLCJcInVzZSBzdHJpY3RcIjtcblxuZnVuY3Rpb24gX3NsaWNlZFRvQXJyYXkoYXJyLCBpKSB7IHJldHVybiBfYXJyYXlXaXRoSG9sZXMoYXJyKSB8fCBfaXRlcmFibGVUb0FycmF5TGltaXQoYXJyLCBpKSB8fCBfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkoYXJyLCBpKSB8fCBfbm9uSXRlcmFibGVSZXN0KCk7IH1cblxuZnVuY3Rpb24gX25vbkl0ZXJhYmxlUmVzdCgpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkludmFsaWQgYXR0ZW1wdCB0byBkZXN0cnVjdHVyZSBub24taXRlcmFibGUgaW5zdGFuY2UuXFxuSW4gb3JkZXIgdG8gYmUgaXRlcmFibGUsIG5vbi1hcnJheSBvYmplY3RzIG11c3QgaGF2ZSBhIFtTeW1ib2wuaXRlcmF0b3JdKCkgbWV0aG9kLlwiKTsgfVxuXG5mdW5jdGlvbiBfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkobywgbWluTGVuKSB7IGlmICghbykgcmV0dXJuOyBpZiAodHlwZW9mIG8gPT09IFwic3RyaW5nXCIpIHJldHVybiBfYXJyYXlMaWtlVG9BcnJheShvLCBtaW5MZW4pOyB2YXIgbiA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChvKS5zbGljZSg4LCAtMSk7IGlmIChuID09PSBcIk9iamVjdFwiICYmIG8uY29uc3RydWN0b3IpIG4gPSBvLmNvbnN0cnVjdG9yLm5hbWU7IGlmIChuID09PSBcIk1hcFwiIHx8IG4gPT09IFwiU2V0XCIpIHJldHVybiBBcnJheS5mcm9tKG8pOyBpZiAobiA9PT0gXCJBcmd1bWVudHNcIiB8fCAvXig/OlVpfEkpbnQoPzo4fDE2fDMyKSg/OkNsYW1wZWQpP0FycmF5JC8udGVzdChuKSkgcmV0dXJuIF9hcnJheUxpa2VUb0FycmF5KG8sIG1pbkxlbik7IH1cblxuZnVuY3Rpb24gX2FycmF5TGlrZVRvQXJyYXkoYXJyLCBsZW4pIHsgaWYgKGxlbiA9PSBudWxsIHx8IGxlbiA+IGFyci5sZW5ndGgpIGxlbiA9IGFyci5sZW5ndGg7IGZvciAodmFyIGkgPSAwLCBhcnIyID0gbmV3IEFycmF5KGxlbik7IGkgPCBsZW47IGkrKykgeyBhcnIyW2ldID0gYXJyW2ldOyB9IHJldHVybiBhcnIyOyB9XG5cbmZ1bmN0aW9uIF9pdGVyYWJsZVRvQXJyYXlMaW1pdChhcnIsIGkpIHsgdmFyIF9pID0gYXJyICYmICh0eXBlb2YgU3ltYm9sICE9PSBcInVuZGVmaW5lZFwiICYmIGFycltTeW1ib2wuaXRlcmF0b3JdIHx8IGFycltcIkBAaXRlcmF0b3JcIl0pOyBpZiAoX2kgPT0gbnVsbCkgcmV0dXJuOyB2YXIgX2FyciA9IFtdOyB2YXIgX24gPSB0cnVlOyB2YXIgX2QgPSBmYWxzZTsgdmFyIF9zLCBfZTsgdHJ5IHsgZm9yIChfaSA9IF9pLmNhbGwoYXJyKTsgIShfbiA9IChfcyA9IF9pLm5leHQoKSkuZG9uZSk7IF9uID0gdHJ1ZSkgeyBfYXJyLnB1c2goX3MudmFsdWUpOyBpZiAoaSAmJiBfYXJyLmxlbmd0aCA9PT0gaSkgYnJlYWs7IH0gfSBjYXRjaCAoZXJyKSB7IF9kID0gdHJ1ZTsgX2UgPSBlcnI7IH0gZmluYWxseSB7IHRyeSB7IGlmICghX24gJiYgX2lbXCJyZXR1cm5cIl0gIT0gbnVsbCkgX2lbXCJyZXR1cm5cIl0oKTsgfSBmaW5hbGx5IHsgaWYgKF9kKSB0aHJvdyBfZTsgfSB9IHJldHVybiBfYXJyOyB9XG5cbmZ1bmN0aW9uIF9hcnJheVdpdGhIb2xlcyhhcnIpIHsgaWYgKEFycmF5LmlzQXJyYXkoYXJyKSkgcmV0dXJuIGFycjsgfVxuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGNzc1dpdGhNYXBwaW5nVG9TdHJpbmcoaXRlbSkge1xuICB2YXIgX2l0ZW0gPSBfc2xpY2VkVG9BcnJheShpdGVtLCA0KSxcbiAgICAgIGNvbnRlbnQgPSBfaXRlbVsxXSxcbiAgICAgIGNzc01hcHBpbmcgPSBfaXRlbVszXTtcblxuICBpZiAoIWNzc01hcHBpbmcpIHtcbiAgICByZXR1cm4gY29udGVudDtcbiAgfVxuXG4gIGlmICh0eXBlb2YgYnRvYSA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVuZGVmXG4gICAgdmFyIGJhc2U2NCA9IGJ0b2EodW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KEpTT04uc3RyaW5naWZ5KGNzc01hcHBpbmcpKSkpO1xuICAgIHZhciBkYXRhID0gXCJzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtjaGFyc2V0PXV0Zi04O2Jhc2U2NCxcIi5jb25jYXQoYmFzZTY0KTtcbiAgICB2YXIgc291cmNlTWFwcGluZyA9IFwiLyojIFwiLmNvbmNhdChkYXRhLCBcIiAqL1wiKTtcbiAgICB2YXIgc291cmNlVVJMcyA9IGNzc01hcHBpbmcuc291cmNlcy5tYXAoZnVuY3Rpb24gKHNvdXJjZSkge1xuICAgICAgcmV0dXJuIFwiLyojIHNvdXJjZVVSTD1cIi5jb25jYXQoY3NzTWFwcGluZy5zb3VyY2VSb290IHx8IFwiXCIpLmNvbmNhdChzb3VyY2UsIFwiICovXCIpO1xuICAgIH0pO1xuICAgIHJldHVybiBbY29udGVudF0uY29uY2F0KHNvdXJjZVVSTHMpLmNvbmNhdChbc291cmNlTWFwcGluZ10pLmpvaW4oXCJcXG5cIik7XG4gIH1cblxuICByZXR1cm4gW2NvbnRlbnRdLmpvaW4oXCJcXG5cIik7XG59OyIsImltcG9ydCAkIGZyb20gJ2pxdWVyeSc7XG53aW5kb3cualF1ZXJ5ID0gd2luZG93LiQgPSByZXF1aXJlKFwianF1ZXJ5XCIpO1xuXG4vLyBjb25zb2xlLmxvZyhcIkhlbGxvIGZyb20gbmF2aWdhdGlvbiFcIik7XG5cbi8vIGpRdWVyeSggZG9jdW1lbnQgKS5yZWFkeSggZnVuY3Rpb24oICQgKSB7XG4vLyAgICAgLy8gJCgpIHdpbGwgd29yayBhcyBhbiBhbGlhcyBmb3IgalF1ZXJ5KCkgaW5zaWRlIG9mIHRoaXMgZnVuY3Rpb25cbi8vICAgICAvLyBjb25zb2xlLmxvZygnWyBIZWxsbyBmcm9tIG5hdmlnYXRpb24galF1ZXJ5IGNvZGUgZ29lcyBoZXJlIF0nKTtcbi8vIH0gKTtcblxuJCgnLmMtbmF2aWdhdGlvbicpLm9uKCdtb3VzZWVudGVyJywgJy5tZW51LWl0ZW0taGFzLWNoaWxkcmVuJywgKGUpID0+IHtcbiAgICBpZighJChlLmN1cnJlbnRUYXJnZXQpLnBhcmVudCgnLnN1Yi1tZW51JykubGVuZ3RoKSB7XG4gICAgICAgICQoJy5tZW51ID4gLm1lbnUtaXRlbS5vcGVuJykuZmluZCgnID4gYSA+IC5tZW51LWJ1dHRvbicpLnRyaWdnZXIoJ2NsaWNrJyk7XG4gICAgfVxuICAgICQoZS5jdXJyZW50VGFyZ2V0KS5hZGRDbGFzcygnb3BlbicpO1xufSkub24oJ21vdXNlbGVhdmUnLCAnLm1lbnUtaXRlbS1oYXMtY2hpbGRyZW4nLCAoZSkgPT4ge1xuICAgICQoZS5jdXJyZW50VGFyZ2V0KS5yZW1vdmVDbGFzcygnb3BlbicpO1xufSlcblxuJCgnLmMtbmF2aWdhdGlvbicpLm9uKCdjbGljaycsICcubWVudSAubWVudS1idXR0b24nLCAoZSkgPT4ge1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgIGxldCBtZW51X2J1dHRvbiA9ICQoZS5jdXJyZW50VGFyZ2V0KTtcbiAgICBsZXQgbWVudV9saW5rID0gbWVudV9idXR0b24ucGFyZW50KCk7XG4gICAgbGV0IG1lbnVfaXRlbSA9IG1lbnVfbGluay5wYXJlbnQoKTtcblxuICAgIGNvbnNvbGUubG9nKG1lbnVfaXRlbSk7XG4gICAgaWYobWVudV9pdGVtLmhhc0NsYXNzKCdvcGVuJykpIHtcbiAgICAgICAgbWVudV9pdGVtLmFkZChtZW51X2l0ZW0uZmluZCgnLm1lbnUtaXRlbS5vcGVuJykpLnJlbW92ZUNsYXNzKCdvcGVuJyk7XG4gICAgICAgIG1lbnVfbGluay5hZGQobWVudV9pdGVtLmZpbmQoJ2EnKSkuYXR0cignYXJpYS1leHBhbmRlZCcsICdmYWxzZScpO1xuICAgICAgICBtZW51X2J1dHRvbi5maW5kKCdtZW51LWJ1dHRvbi1zaG93JykuYXR0cignYXJpYS1oaWRkZW4nLCAnZmFsc2UnKTtcbiAgICAgICAgbWVudV9idXR0b24uZmluZCgnbWVudS1idXR0b24taGlkZScpLmF0dHIoJ2FyaWEtaGlkZGVuJywgJ3RydWUnKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBtZW51X2l0ZW0uc2libGluZ3MoJy5vcGVuJykuZmluZCgnID4gYSA+IC5tZW51LWJ1dHRvbicpLnRyaWdnZXIoJ2NsaWNrJyk7XG4gICAgICAgIG1lbnVfaXRlbS5hZGRDbGFzcygnb3BlbicpO1xuICAgICAgICBtZW51X2xpbmsuYXR0cignYXJpYS1leHBhbmRlZCcsICd0cnVlJyk7XG4gICAgICAgIG1lbnVfYnV0dG9uLmZpbmQoJ21lbnUtYnV0dG9uLXNob3cnKS5hdHRyKCdhcmlhLWhpZGRlbicsICd0cnVlJyk7XG4gICAgICAgIG1lbnVfYnV0dG9uLmZpbmQoJ21lbnUtYnV0dG9uLWhpZGUnKS5hdHRyKCdhcmlhLWhpZGRlbicsICdmYWxzZScpO1xuICAgIH1cbn0pO1xuXG4kKGRvY3VtZW50KS5jbGljaygoZSkgPT4ge1xuICAgIGlmKCQoJy5tZW51LWl0ZW0ub3BlbicpLmxlbmd0aCkge1xuICAgICAgICAkKCcubWVudSA+IC5tZW51LWl0ZW0ub3BlbiA+IGEgPiAubWVudS1idXR0b24nKS50cmlnZ2VyKCdjbGljaycpO1xuICAgIH1cbn0pXG4iLCJ3aW5kb3cualF1ZXJ5ID0gd2luZG93LiQgPSByZXF1aXJlKCdqcXVlcnknKTtcbndpbmRvdy5Td2lwZXIgPSByZXF1aXJlKCdzd2lwZXInKTtcbmNvbnNvbGUubG9nKCdIZWxsbyBmcm9tIGJ1bmRsZUpTIScpO1xuXG4vLyBjb3JlIHZlcnNpb24gKyBuYXZpZ2F0aW9uLCBwYWdpbmF0aW9uIG1vZHVsZXM6XG5pbXBvcnQgU3dpcGVyLCB7IE5hdmlnYXRpb24sIFBhZ2luYXRpb24gfSBmcm9tICdzd2lwZXInO1xuLy8gaW1wb3J0IFN3aXBlciBhbmQgbW9kdWxlcyBzdHlsZXNcbmltcG9ydCAnc3dpcGVyL2Nzcyc7XG5pbXBvcnQgJ3N3aXBlci9jc3MvbmF2aWdhdGlvbic7XG5pbXBvcnQgJ3N3aXBlci9jc3MvcGFnaW5hdGlvbic7XG5cbmltcG9ydCAnLi9jb21wb25lbnRzL25hdmlnYXRpb24nO1xuLy8gaW1wb3J0ICcuL2NvbXBvbmVudHMvc2xpZGVyLXN3aXBlcic7XG4vLyBpbXBvcnQgJy4vY29tcG9uZW50cy9kaXNwbGF5LWlzb3RvcGUnO1xuXG4vLyBTQ1JPTEwgVE8gVE9QIEJVVFRPTlxuLy8gU2V0IGEgdmFyaWFibGUgZm9yIG91ciBidXR0b24gZWxlbWVudC5cbmNvbnN0IHNjcm9sbFRvVG9wQnV0dG9uID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2pzLXRvcCcpO1xuLy8gTGV0J3Mgc2V0IHVwIGEgZnVuY3Rpb24gdGhhdCBzaG93cyBvdXIgc2Nyb2xsLXRvLXRvcCBidXR0b24gaWYgd2Ugc2Nyb2xsIGJleW9uZCB0aGUgaGVpZ2h0IG9mIHRoZSBpbml0aWFsIHdpbmRvdy5cbmNvbnN0IHNjcm9sbEZ1bmMgPSAoKSA9PiB7XG5cdC8vIEdldCB0aGUgY3VycmVudCBzY3JvbGwgdmFsdWVcblx0bGV0IHkgPSB3aW5kb3cuc2Nyb2xsWTtcblx0Ly8gSWYgdGhlIHNjcm9sbCB2YWx1ZSBpcyBncmVhdGVyIHRoYW4gdGhlIHdpbmRvdyBoZWlnaHQsIGxldCdzIGFkZCBhIGNsYXNzIHRvIHRoZSBzY3JvbGwtdG8tdG9wIGJ1dHRvbiB0byBzaG93IGl0IVxuXHRpZiAoeSA+IDApIHtcblx0XHRzY3JvbGxUb1RvcEJ1dHRvbi5jbGFzc05hbWUgPSBcInRvcC1saW5rIHNob3dcIjtcblx0fSBlbHNlIHtcblx0XHRzY3JvbGxUb1RvcEJ1dHRvbi5jbGFzc05hbWUgPSBcInRvcC1saW5rIGhpZGVcIjtcblx0fVxufTtcblxud2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJzY3JvbGxcIiwgc2Nyb2xsRnVuYyk7XG5cbmNvbnN0IHNjcm9sbFRvVG9wID0gKCkgPT4ge1xuXHQvLyBMZXQncyBzZXQgYSB2YXJpYWJsZSBmb3IgdGhlIG51bWJlciBvZiBwaXhlbHMgd2UgYXJlIGZyb20gdGhlIHRvcCBvZiB0aGUgZG9jdW1lbnQuXG5cdGNvbnN0IGMgPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsVG9wIHx8IGRvY3VtZW50LmJvZHkuc2Nyb2xsVG9wO1xuXHQvLyBJZiB0aGF0IG51bWJlciBpcyBncmVhdGVyIHRoYW4gMCwgd2UnbGwgc2Nyb2xsIGJhY2sgdG8gMCwgb3IgdGhlIHRvcCBvZiB0aGUgZG9jdW1lbnQuXG5cdC8vIFdlJ2xsIGFsc28gYW5pbWF0ZSB0aGF0IHNjcm9sbCB3aXRoIHJlcXVlc3RBbmltYXRpb25GcmFtZTpcblx0Ly8gaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL3dpbmRvdy9yZXF1ZXN0QW5pbWF0aW9uRnJhbWVcblx0aWYgKGMgPiAwKSB7XG5cdFx0d2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZShzY3JvbGxUb1RvcCk7XG5cdFx0Ly8gU2Nyb2xsVG8gdGFrZXMgYW4geCBhbmQgYSB5IGNvb3JkaW5hdGUuXG5cdFx0Ly8gSW5jcmVhc2UgdGhlICcxMCcgdmFsdWUgdG8gZ2V0IGEgc21vb3RoZXIvc2xvd2VyIHNjcm9sbCFcblx0XHR3aW5kb3cuc2Nyb2xsVG8oMCwgYyAtIGMgLyAxMCk7XG5cdH1cbn07XG5cbi8vIFdoZW4gdGhlIGJ1dHRvbiBpcyBjbGlja2VkLCBydW4gb3VyIFNjcm9sbHRvVG9wIGZ1bmN0aW9uIGFib3ZlIVxuLy8gc2Nyb2xsVG9Ub3BCdXR0b24ub25jbGljayA9IGZ1bmN0aW9uKGUpIHtcbi8vICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuLy8gICBzY3JvbGxUb1RvcCgpO1xuLy8gfVxuXG5qUXVlcnkoIGZ1bmN0aW9uKCAkICkge1xuXHQvLyAkKCkgd2lsbCB3b3JrIGFzIGFuIGFsaWFzIGZvciBqUXVlcnkoKSBpbnNpZGUgb2YgdGhpcyBmdW5jdGlvblxuXHQvLyBjb25zb2xlLmxvZygnWyBmcm9tIEJ1bmRsZSB5b3VyIGpRdWVyeSBjb2RlIGhlcmUgXScpO1xuXHRcblx0dmFyIGFjY29yZGlvbiA9IChmdW5jdGlvbigpe1xuICBcblx0XHR2YXIgJGFjY29yZGlvbiA9ICQoJy5qcy1hY2NvcmRpb24nKTtcblx0XHR2YXIgJGFjY29yZGlvbl9oZWFkZXIgPSAkYWNjb3JkaW9uLmZpbmQoJy5qcy1hY2NvcmRpb24taGVhZGVyJyk7XG5cdFx0dmFyICRhY2NvcmRpb25faXRlbSA9ICQoJy5qcy1hY2NvcmRpb24taXRlbScpO1xuXHQgICBcblx0XHQvLyBkZWZhdWx0IHNldHRpbmdzIFxuXHRcdHZhciBzZXR0aW5ncyA9IHtcblx0XHQgIC8vIGFuaW1hdGlvbiBzcGVlZFxuXHRcdCAgc3BlZWQ6IDQwMCxcblx0XHQgIFxuXHRcdCAgLy8gY2xvc2UgYWxsIG90aGVyIGFjY29yZGlvbiBpdGVtcyBpZiB0cnVlXG5cdFx0ICBvbmVPcGVuOiBmYWxzZVxuXHRcdH07XG5cdFx0ICBcblx0XHRyZXR1cm4ge1xuXHRcdCAgLy8gcGFzcyBjb25maWd1cmFibGUgb2JqZWN0IGxpdGVyYWxcblx0XHQgIGluaXQ6IGZ1bmN0aW9uKCRzZXR0aW5ncykge1xuXHRcdFx0JGFjY29yZGlvbl9oZWFkZXIub24oJ2NsaWNrJywgZnVuY3Rpb24oKSB7XG5cdFx0XHQgIGFjY29yZGlvbi50b2dnbGUoJCh0aGlzKSk7XG5cdFx0XHR9KTtcblx0XHRcdFxuXHRcdFx0JC5leHRlbmQoc2V0dGluZ3MsICRzZXR0aW5ncyk7IFxuXHRcdFx0XG5cdFx0XHQvLyBlbnN1cmUgb25seSBvbmUgYWNjb3JkaW9uIGlzIGFjdGl2ZSBpZiBvbmVPcGVuIGlzIHRydWVcblx0XHRcdGlmKHNldHRpbmdzLm9uZU9wZW4gJiYgJCgnLmpzLWFjY29yZGlvbi1pdGVtLmFjdGl2ZScpLmxlbmd0aCA+IDEpIHtcblx0XHRcdCAgJCgnLmpzLWFjY29yZGlvbi1pdGVtLmFjdGl2ZTpub3QoOmZpcnN0KScpLnJlbW92ZUNsYXNzKCdhY3RpdmUnKTtcblx0XHRcdH1cblx0XHRcdFxuXHRcdFx0Ly8gcmV2ZWFsIHRoZSBhY3RpdmUgYWNjb3JkaW9uIGJvZGllc1xuXHRcdFx0JCgnLmpzLWFjY29yZGlvbi1pdGVtLmFjdGl2ZScpLmZpbmQoJz4gLmpzLWFjY29yZGlvbi1ib2R5Jykuc2hvdygpO1xuXHRcdCAgfSxcblx0XHQgIHRvZ2dsZTogZnVuY3Rpb24oJHRoaXMpIHtcblx0XHRcdFx0ICBcblx0XHRcdGlmKHNldHRpbmdzLm9uZU9wZW4gJiYgJHRoaXNbMF0gIT0gJHRoaXMuY2xvc2VzdCgnLmpzLWFjY29yZGlvbicpLmZpbmQoJz4gLmpzLWFjY29yZGlvbi1pdGVtLmFjdGl2ZSA+IC5qcy1hY2NvcmRpb24taGVhZGVyJylbMF0pIHtcblx0XHRcdCAgJHRoaXMuY2xvc2VzdCgnLmpzLWFjY29yZGlvbicpXG5cdFx0XHRcdFx0IC5maW5kKCc+IC5qcy1hY2NvcmRpb24taXRlbScpIFxuXHRcdFx0XHRcdCAucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpXG5cdFx0XHRcdFx0IC5maW5kKCcuanMtYWNjb3JkaW9uLWJvZHknKVxuXHRcdFx0XHRcdCAuc2xpZGVVcCgpXG5cdFx0XHR9XG5cdFx0XHRcblx0XHRcdC8vIHNob3cvaGlkZSB0aGUgY2xpY2tlZCBhY2NvcmRpb24gaXRlbVxuXHRcdFx0JHRoaXMuY2xvc2VzdCgnLmpzLWFjY29yZGlvbi1pdGVtJykudG9nZ2xlQ2xhc3MoJ2FjdGl2ZScpO1xuXHRcdFx0JHRoaXMubmV4dCgpLnN0b3AoKS5zbGlkZVRvZ2dsZShzZXR0aW5ncy5zcGVlZCk7XG5cdFx0ICB9XG5cdFx0fVxuXHQgIH0pKCk7XG5cdCAgXG5cdCAgJChmdW5jdGlvbigpe1xuXHRcdGFjY29yZGlvbi5pbml0KHsgc3BlZWQ6IDMwMCwgb25lT3BlbjogdHJ1ZSB9KTtcblx0ICB9KTtcblxuXHQvLyB2YXIgJHJvb3QgPSAkKCdodG1sLCBib2R5Jyk7XG5cblx0Ly8gJCgnYVtocmVmXj1cIiNcIl0nKS5jbGljayhmdW5jdGlvbigpIHtcblx0Ly8gXHRcdHZhciBocmVmID0gJC5hdHRyKHRoaXMsICdocmVmJyk7XG5cdC8vIFx0XHQkcm9vdC5hbmltYXRlKHtcblx0Ly8gXHRcdFx0XHRzY3JvbGxUb3A6ICQoaHJlZikub2Zmc2V0KCkudG9wXG5cdC8vIFx0XHR9LCA1MDAsIGZ1bmN0aW9uICgpIHtcblx0Ly8gXHRcdFx0XHR3aW5kb3cubG9jYXRpb24uaGFzaCA9IGhyZWY7XG5cdC8vIFx0XHR9KTtcblx0Ly8gXHRcdHJldHVybiBmYWxzZTtcblx0Ly8gfSk7XG5cblx0Ly8gU1dJUEVSXG5cdC8vIGNvbmZpZ3VyZSBTd2lwZXIgdG8gdXNlIG1vZHVsZXNcblxuXHRTd2lwZXIudXNlKFtOYXZpZ2F0aW9uLCBQYWdpbmF0aW9uXSk7XG5cdC8vIGluaXQgU3dpcGVyOlxuXHRjb25zdCBzd2lwZXJUZXN0ID0gbmV3IFN3aXBlcignLnN3aXBlcicsIHtcbiBcdFx0Ly8gY29uZmlndXJlIFN3aXBlciB0byB1c2UgbW9kdWxlc1xuXHRcdG1vZHVsZXM6IFtOYXZpZ2F0aW9uLCBQYWdpbmF0aW9uXSxcbiBcdFx0Ly8gT3B0aW9uYWwgcGFyYW1ldGVyc1xuXHRcdGRpcmVjdGlvbjogJ2hvcml6b250YWwnLFxuXHRcdGExMXk6IHRydWUsXG5cdFx0Ly9sb29wOiB0cnVlLFxuXHRcdGF1dG9wbGF5OiB0cnVlLFxuXHRcdGNlbnRlcmVkU2xpZGVzOiB0cnVlLFxuXHRcdHNwZWVkOiA0MDAsXG5cdFx0c2xpZGVzUGVyVmlldzogMSxcblxuXHRcdC8vIElmIHdlIG5lZWQgcGFnaW5hdGlvblxuXHRcdHBhZ2luYXRpb246IHtcblx0XHRcdGVsOiAnLnN3aXBlci1wYWdpbmF0aW9uJyxcblx0XHRcdGNsaWNrYWJsZTogdHJ1ZSxcblx0XHR9LFxuXHRcdC8vIE5hdmlnYXRpb24gYXJyb3dzXG5cdFx0bmF2aWdhdGlvbjoge1xuXHRcdFx0bmV4dEVsOiAnLnN3aXBlci1idXR0b24tbmV4dCcsXG5cdFx0XHRwcmV2RWw6ICcuc3dpcGVyLWJ1dHRvbi1wcmV2Jyxcblx0XHR9LFxuXHRcdC8vIEFuZCBpZiB3ZSBuZWVkIHNjcm9sbGJhclxuXHRcdHNjcm9sbGJhcjoge1xuXHRcdFx0ZWw6ICcuc3dpcGVyLXNjcm9sbGJhcicsXG5cdFx0fSxcblx0fSk7XG5cdHN3aXBlclRlc3QuaW5pdCgpO1xuXHQvLyBjb25zb2xlLmxvZyhzd2lwZXJUZXN0KTtcbn0pO1xuXG5cbi8vIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ2FbaHJlZl49XCIjXCJdJykuZm9yRWFjaChhbmNob3IgPT4ge1xuLy8gXHRcdGFuY2hvci5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uIChlKSB7XG4vLyBcdFx0XHRlLnByZXZlbnREZWZhdWx0KCk7XG4vLyBcdFx0XHRjb25zb2xlLmxvZygnZnJvbSBhbmNob3Igc21vb3RoIHRlc3QuJyk7XG5cbi8vIFx0XHRcdFx0ZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih0aGlzLmdldEF0dHJpYnV0ZSgnaHJlZicpKS5zY3JvbGxJbnRvVmlldyh7XG4vLyBcdFx0XHRcdFx0XHRiZWhhdmlvcjogJ3Ntb290aCdcbi8vIFx0XHRcdFx0fSk7XG4vLyBcdFx0fSk7XG4vLyB9KTtcblxuLy8gU0hVRkZMRSBERU1PXG4vLyBjb25zdHJ1Y3QgbmV3IFNodWZmbGUgZ3JpZCBpbnN0YW5jZVxuLy8gY29uc3Qgc2h1ZmZsZUluc3RhbmNlID0gbmV3IFNodWZmbGUoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3NodWZmbGVHcmlkJyksIHtcbi8vICAgaXRlbVNlbGVjdG9yOiAnLnBpY3R1cmUtaXRlbScsXG4vLyAgIHNpemVyOiAnLm15LXNpemVyLWVsZW1lbnQnLFxuLy8gfSk7XG4vLyBjb25zb2xlLmxvZyhzaHVmZmxlSW5zdGFuY2UpO1xuXG5cblxuLy8gJ3VzZSBzdHJpY3QnO1xuLy8gdmFyIFNodWZmbGUgPSB3aW5kb3cuU2h1ZmZsZTtcbi8vIHZhciBEZW1vID0gZnVuY3Rpb24gKGVsZW1lbnQpIHtcbi8vICAgdGhpcy5lbGVtZW50ID0gZWxlbWVudDtcblxuLy8gICB0aGlzLnNodWZmbGUgPSBuZXcgU2h1ZmZsZShlbGVtZW50LCB7XG4vLyAgICAgaXRlbVNlbGVjdG9yOiAnLnBpY3R1cmUtaXRlbScsXG4vLyAgICAgLy8gc2l6ZXI6IGVsZW1lbnQucXVlcnlTZWxlY3RvcignLm15LXNpemVyLWVsZW1lbnQnKSxcbi8vICAgfSk7XG5cbi8vICAgLy8gTG9nIGV2ZW50cy5cbi8vICAgdGhpcy5hZGRTaHVmZmxlRXZlbnRMaXN0ZW5lcnMoKTtcblxuLy8gICB0aGlzLl9hY3RpdmVGaWx0ZXJzID0gW107XG5cbi8vICAgdGhpcy5hZGRGaWx0ZXJCdXR0b25zKCk7XG4vLyAgIHRoaXMuYWRkU29ydGluZygpO1xuLy8gICB0aGlzLmFkZFNlYXJjaEZpbHRlcigpO1xuXG4vLyAgIHRoaXMubW9kZSA9ICdleGNsdXNpdmUnO1xuLy8gfTtcblxuLy8gRGVtby5wcm90b3R5cGUudG9nZ2xlTW9kZSA9IGZ1bmN0aW9uICgpIHtcbi8vICAgaWYgKHRoaXMubW9kZSA9PT0gJ2FkZGl0aXZlJykge1xuLy8gICAgIHRoaXMubW9kZSA9ICdleGNsdXNpdmUnO1xuLy8gICB9IGVsc2Uge1xuLy8gICAgIHRoaXMubW9kZSA9ICdhZGRpdGl2ZSc7XG4vLyAgIH1cbi8vIH07XG5cbi8qKlxuICogU2h1ZmZsZSB1c2VzIHRoZSBDdXN0b21FdmVudCBjb25zdHJ1Y3RvciB0byBkaXNwYXRjaCBldmVudHMuIFlvdSBjYW4gbGlzdGVuXG4gKiBmb3IgdGhlbSBsaWtlIHlvdSBub3JtYWxseSB3b3VsZCAod2l0aCBqUXVlcnkgZm9yIGV4YW1wbGUpLlxuICovXG4vLyBEZW1vLnByb3RvdHlwZS5hZGRTaHVmZmxlRXZlbnRMaXN0ZW5lcnMgPSBmdW5jdGlvbiAoKSB7XG4vLyAgIHRoaXMuc2h1ZmZsZS5vbihTaHVmZmxlLkV2ZW50VHlwZS5MQVlPVVQsIGZ1bmN0aW9uIChkYXRhKSB7XG4vLyAgICAgY29uc29sZS5sb2coJ2xheW91dC4gZGF0YTonLCBkYXRhKTtcbi8vICAgfSk7XG5cbi8vICAgdGhpcy5zaHVmZmxlLm9uKFNodWZmbGUuRXZlbnRUeXBlLlJFTU9WRUQsIGZ1bmN0aW9uIChkYXRhKSB7XG4vLyAgICAgY29uc29sZS5sb2coJ3JlbW92ZWQuIGRhdGE6JywgZGF0YSk7XG4vLyAgIH0pO1xuLy8gfTtcblxuLy8gRGVtby5wcm90b3R5cGUuYWRkRmlsdGVyQnV0dG9ucyA9IGZ1bmN0aW9uICgpIHtcbi8vICAgdmFyIG9wdGlvbnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuZmlsdGVyLW9wdGlvbnMnKTtcblxuLy8gICBpZiAoIW9wdGlvbnMpIHtcbi8vICAgICByZXR1cm47XG4vLyAgIH1cblxuLy8gICB2YXIgZmlsdGVyQnV0dG9ucyA9IEFycmF5LmZyb20ob3B0aW9ucy5jaGlsZHJlbik7XG5cbi8vICAgZmlsdGVyQnV0dG9ucy5mb3JFYWNoKGZ1bmN0aW9uIChidXR0b24pIHtcbi8vICAgICBidXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLl9oYW5kbGVGaWx0ZXJDbGljay5iaW5kKHRoaXMpLCBmYWxzZSk7XG4vLyAgIH0sIHRoaXMpO1xuLy8gfTtcblxuLy8gRGVtby5wcm90b3R5cGUuX2hhbmRsZUZpbHRlckNsaWNrID0gZnVuY3Rpb24gKGV2dCkge1xuLy8gICB2YXIgYnRuID0gZXZ0LmN1cnJlbnRUYXJnZXQ7XG4vLyAgIHZhciBpc0FjdGl2ZSA9IGJ0bi5jbGFzc0xpc3QuY29udGFpbnMoJ2FjdGl2ZScpO1xuLy8gICB2YXIgYnRuR3JvdXAgPSBidG4uZ2V0QXR0cmlidXRlKCdkYXRhLWdyb3VwJyk7XG5cbi8vICAgLy8gWW91IGRvbid0IG5lZWQgX2JvdGhfIG9mIHRoZXNlIG1vZGVzLiBUaGlzIGlzIG9ubHkgZm9yIHRoZSBkZW1vLlxuXG4vLyAgIC8vIEZvciB0aGlzIGN1c3RvbSAnYWRkaXRpdmUnIG1vZGUgaW4gdGhlIGRlbW8sIGNsaWNraW5nIG9uIGZpbHRlciBidXR0b25zXG4vLyAgIC8vIGRvZXNuJ3QgcmVtb3ZlIGFueSBvdGhlciBmaWx0ZXJzLlxuLy8gICBpZiAodGhpcy5tb2RlID09PSAnYWRkaXRpdmUnKSB7XG4vLyAgICAgLy8gSWYgdGhpcyBidXR0b24gaXMgYWxyZWFkeSBhY3RpdmUsIHJlbW92ZSBpdCBmcm9tIHRoZSBsaXN0IG9mIGZpbHRlcnMuXG4vLyAgICAgaWYgKGlzQWN0aXZlKSB7XG4vLyAgICAgICB0aGlzLl9hY3RpdmVGaWx0ZXJzLnNwbGljZSh0aGlzLl9hY3RpdmVGaWx0ZXJzLmluZGV4T2YoYnRuR3JvdXApKTtcbi8vICAgICB9IGVsc2Uge1xuLy8gICAgICAgdGhpcy5fYWN0aXZlRmlsdGVycy5wdXNoKGJ0bkdyb3VwKTtcbi8vICAgICB9XG5cbi8vICAgICBidG4uY2xhc3NMaXN0LnRvZ2dsZSgnYWN0aXZlJyk7XG5cbi8vICAgICAvLyBGaWx0ZXIgZWxlbWVudHNcbi8vICAgICB0aGlzLnNodWZmbGUuZmlsdGVyKHRoaXMuX2FjdGl2ZUZpbHRlcnMpO1xuXG4vLyAgIC8vICdleGNsdXNpdmUnIG1vZGUgbGV0cyBvbmx5IG9uZSBmaWx0ZXIgYnV0dG9uIGJlIGFjdGl2ZSBhdCBhIHRpbWUuXG4vLyAgIH0gZWxzZSB7XG4vLyAgICAgdGhpcy5fcmVtb3ZlQWN0aXZlQ2xhc3NGcm9tQ2hpbGRyZW4oYnRuLnBhcmVudE5vZGUpO1xuXG4vLyAgICAgdmFyIGZpbHRlckdyb3VwO1xuLy8gICAgIGlmIChpc0FjdGl2ZSkge1xuLy8gICAgICAgYnRuLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpO1xuLy8gICAgICAgZmlsdGVyR3JvdXAgPSBTaHVmZmxlLkFMTF9JVEVNUztcbi8vICAgICB9IGVsc2Uge1xuLy8gICAgICAgYnRuLmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpO1xuLy8gICAgICAgZmlsdGVyR3JvdXAgPSBidG5Hcm91cDtcbi8vICAgICB9XG5cbi8vICAgICB0aGlzLnNodWZmbGUuZmlsdGVyKGZpbHRlckdyb3VwKTtcbi8vICAgfVxuLy8gfTtcblxuLy8gRGVtby5wcm90b3R5cGUuX3JlbW92ZUFjdGl2ZUNsYXNzRnJvbUNoaWxkcmVuID0gZnVuY3Rpb24gKHBhcmVudCkge1xuLy8gICB2YXIgY2hpbGRyZW4gPSBwYXJlbnQuY2hpbGRyZW47XG4vLyAgIGZvciAodmFyIGkgPSBjaGlsZHJlbi5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuLy8gICAgIGNoaWxkcmVuW2ldLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpO1xuLy8gICB9XG4vLyB9O1xuXG4vLyBEZW1vLnByb3RvdHlwZS5hZGRTb3J0aW5nID0gZnVuY3Rpb24gKCkge1xuLy8gICB2YXIgYnV0dG9uR3JvdXAgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuc29ydC1vcHRpb25zJyk7XG5cbi8vICAgaWYgKCFidXR0b25Hcm91cCkge1xuLy8gICAgIHJldHVybjtcbi8vICAgfVxuXG4vLyAgIGJ1dHRvbkdyb3VwLmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIHRoaXMuX2hhbmRsZVNvcnRDaGFuZ2UuYmluZCh0aGlzKSk7XG4vLyB9O1xuXG4vLyBEZW1vLnByb3RvdHlwZS5faGFuZGxlU29ydENoYW5nZSA9IGZ1bmN0aW9uIChldnQpIHtcbi8vICAgLy8gQWRkIGFuZCByZW1vdmUgYGFjdGl2ZWAgY2xhc3MgZnJvbSBidXR0b25zLlxuLy8gICB2YXIgYnV0dG9ucyA9IEFycmF5LmZyb20oZXZ0LmN1cnJlbnRUYXJnZXQuY2hpbGRyZW4pO1xuLy8gICBidXR0b25zLmZvckVhY2goZnVuY3Rpb24gKGJ1dHRvbikge1xuLy8gICAgIGlmIChidXR0b24ucXVlcnlTZWxlY3RvcignaW5wdXQnKS52YWx1ZSA9PT0gZXZ0LnRhcmdldC52YWx1ZSkge1xuLy8gICAgICAgYnV0dG9uLmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpO1xuLy8gICAgIH0gZWxzZSB7XG4vLyAgICAgICBidXR0b24uY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJyk7XG4vLyAgICAgfVxuLy8gICB9KTtcblxuLy8gICAvLyBDcmVhdGUgdGhlIHNvcnQgb3B0aW9ucyB0byBnaXZlIHRvIFNodWZmbGUuXG4vLyAgIHZhciB2YWx1ZSA9IGV2dC50YXJnZXQudmFsdWU7XG4vLyAgIHZhciBvcHRpb25zID0ge307XG5cbi8vICAgZnVuY3Rpb24gc29ydEJ5RGF0ZShlbGVtZW50KSB7XG4vLyAgICAgcmV0dXJuIERhdGUucGFyc2UoZWxlbWVudC5nZXRBdHRyaWJ1dGUoJ2RhdGEtZGF0ZS1jcmVhdGVkJykpO1xuLy8gICB9XG5cbi8vICAgZnVuY3Rpb24gc29ydEJ5VGl0bGUoZWxlbWVudCkge1xuLy8gICAgIHJldHVybiBlbGVtZW50LmdldEF0dHJpYnV0ZSgnZGF0YS10aXRsZScpLnRvTG93ZXJDYXNlKCk7XG4vLyAgIH1cblxuLy8gICBpZiAodmFsdWUgPT09ICdkYXRlLWNyZWF0ZWQnKSB7XG4vLyAgICAgb3B0aW9ucyA9IHtcbi8vICAgICAgIHJldmVyc2U6IHRydWUsXG4vLyAgICAgICBieTogc29ydEJ5RGF0ZSxcbi8vICAgICB9O1xuLy8gICB9IGVsc2UgaWYgKHZhbHVlID09PSAndGl0bGUnKSB7XG4vLyAgICAgb3B0aW9ucyA9IHtcbi8vICAgICAgIGJ5OiBzb3J0QnlUaXRsZSxcbi8vICAgICB9O1xuLy8gICB9XG5cbi8vICAgdGhpcy5zaHVmZmxlLnNvcnQob3B0aW9ucyk7XG4vLyB9O1xuXG4vLyAvLyBBZHZhbmNlZCBmaWx0ZXJpbmdcbi8vIERlbW8ucHJvdG90eXBlLmFkZFNlYXJjaEZpbHRlciA9IGZ1bmN0aW9uICgpIHtcbi8vICAgdmFyIHNlYXJjaElucHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmpzLXNodWZmbGUtc2VhcmNoJyk7XG5cbi8vICAgaWYgKCFzZWFyY2hJbnB1dCkge1xuLy8gICAgIHJldHVybjtcbi8vICAgfVxuXG4vLyAgIHNlYXJjaElucHV0LmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgdGhpcy5faGFuZGxlU2VhcmNoS2V5dXAuYmluZCh0aGlzKSk7XG4vLyB9O1xuXG4vLyAvKipcbi8vICAqIEZpbHRlciB0aGUgc2h1ZmZsZSBpbnN0YW5jZSBieSBpdGVtcyB3aXRoIGEgdGl0bGUgdGhhdCBtYXRjaGVzIHRoZSBzZWFyY2ggaW5wdXQuXG4vLyAgKiBAcGFyYW0ge0V2ZW50fSBldnQgRXZlbnQgb2JqZWN0LlxuLy8gICovXG4vLyBEZW1vLnByb3RvdHlwZS5faGFuZGxlU2VhcmNoS2V5dXAgPSBmdW5jdGlvbiAoZXZ0KSB7XG4vLyAgIHZhciBzZWFyY2hUZXh0ID0gZXZ0LnRhcmdldC52YWx1ZS50b0xvd2VyQ2FzZSgpO1xuXG4vLyAgIHRoaXMuc2h1ZmZsZS5maWx0ZXIoZnVuY3Rpb24gKGVsZW1lbnQsIHNodWZmbGUpIHtcblxuLy8gICAgIC8vIElmIHRoZXJlIGlzIGEgY3VycmVudCBmaWx0ZXIgYXBwbGllZCwgaWdub3JlIGVsZW1lbnRzIHRoYXQgZG9uJ3QgbWF0Y2ggaXQuXG4vLyAgICAgaWYgKHNodWZmbGUuZ3JvdXAgIT09IFNodWZmbGUuQUxMX0lURU1TKSB7XG4vLyAgICAgICAvLyBHZXQgdGhlIGl0ZW0ncyBncm91cHMuXG4vLyAgICAgICB2YXIgZ3JvdXBzID0gSlNPTi5wYXJzZShlbGVtZW50LmdldEF0dHJpYnV0ZSgnZGF0YS1ncm91cHMnKSk7XG4vLyAgICAgICB2YXIgaXNFbGVtZW50SW5DdXJyZW50R3JvdXAgPSBncm91cHMuaW5kZXhPZihzaHVmZmxlLmdyb3VwKSAhPT0gLTE7XG5cbi8vICAgICAgIC8vIE9ubHkgc2VhcmNoIGVsZW1lbnRzIGluIHRoZSBjdXJyZW50IGdyb3VwXG4vLyAgICAgICBpZiAoIWlzRWxlbWVudEluQ3VycmVudEdyb3VwKSB7XG4vLyAgICAgICAgIHJldHVybiBmYWxzZTtcbi8vICAgICAgIH1cbi8vICAgICB9XG5cbi8vICAgICB2YXIgdGl0bGVFbGVtZW50ID0gZWxlbWVudC5xdWVyeVNlbGVjdG9yKCcucGljdHVyZS1pdGVtX190aXRsZScpO1xuLy8gICAgIHZhciB0aXRsZVRleHQgPSB0aXRsZUVsZW1lbnQudGV4dENvbnRlbnQudG9Mb3dlckNhc2UoKS50cmltKCk7XG5cbi8vICAgICByZXR1cm4gdGl0bGVUZXh0LmluZGV4T2Yoc2VhcmNoVGV4dCkgIT09IC0xO1xuLy8gICB9KTtcbi8vIH07XG5cbi8vIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ0RPTUNvbnRlbnRMb2FkZWQnLCBmdW5jdGlvbiAoKSB7XG4vLyAgIHdpbmRvdy5kZW1vID0gbmV3IERlbW8oZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3NodWZmbGVHcmlkJykpO1xuLy8gICBjb25zb2xlLmxvZyhkZW1vKTtcbi8vIH0pO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBpc09sZElFID0gZnVuY3Rpb24gaXNPbGRJRSgpIHtcbiAgdmFyIG1lbW87XG4gIHJldHVybiBmdW5jdGlvbiBtZW1vcml6ZSgpIHtcbiAgICBpZiAodHlwZW9mIG1lbW8gPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAvLyBUZXN0IGZvciBJRSA8PSA5IGFzIHByb3Bvc2VkIGJ5IEJyb3dzZXJoYWNrc1xuICAgICAgLy8gQHNlZSBodHRwOi8vYnJvd3NlcmhhY2tzLmNvbS8jaGFjay1lNzFkODY5MmY2NTMzNDE3M2ZlZTcxNWMyMjJjYjgwNVxuICAgICAgLy8gVGVzdHMgZm9yIGV4aXN0ZW5jZSBvZiBzdGFuZGFyZCBnbG9iYWxzIGlzIHRvIGFsbG93IHN0eWxlLWxvYWRlclxuICAgICAgLy8gdG8gb3BlcmF0ZSBjb3JyZWN0bHkgaW50byBub24tc3RhbmRhcmQgZW52aXJvbm1lbnRzXG4gICAgICAvLyBAc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS93ZWJwYWNrLWNvbnRyaWIvc3R5bGUtbG9hZGVyL2lzc3Vlcy8xNzdcbiAgICAgIG1lbW8gPSBCb29sZWFuKHdpbmRvdyAmJiBkb2N1bWVudCAmJiBkb2N1bWVudC5hbGwgJiYgIXdpbmRvdy5hdG9iKTtcbiAgICB9XG5cbiAgICByZXR1cm4gbWVtbztcbiAgfTtcbn0oKTtcblxudmFyIGdldFRhcmdldCA9IGZ1bmN0aW9uIGdldFRhcmdldCgpIHtcbiAgdmFyIG1lbW8gPSB7fTtcbiAgcmV0dXJuIGZ1bmN0aW9uIG1lbW9yaXplKHRhcmdldCkge1xuICAgIGlmICh0eXBlb2YgbWVtb1t0YXJnZXRdID09PSAndW5kZWZpbmVkJykge1xuICAgICAgdmFyIHN0eWxlVGFyZ2V0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih0YXJnZXQpOyAvLyBTcGVjaWFsIGNhc2UgdG8gcmV0dXJuIGhlYWQgb2YgaWZyYW1lIGluc3RlYWQgb2YgaWZyYW1lIGl0c2VsZlxuXG4gICAgICBpZiAod2luZG93LkhUTUxJRnJhbWVFbGVtZW50ICYmIHN0eWxlVGFyZ2V0IGluc3RhbmNlb2Ygd2luZG93LkhUTUxJRnJhbWVFbGVtZW50KSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgLy8gVGhpcyB3aWxsIHRocm93IGFuIGV4Y2VwdGlvbiBpZiBhY2Nlc3MgdG8gaWZyYW1lIGlzIGJsb2NrZWRcbiAgICAgICAgICAvLyBkdWUgdG8gY3Jvc3Mtb3JpZ2luIHJlc3RyaWN0aW9uc1xuICAgICAgICAgIHN0eWxlVGFyZ2V0ID0gc3R5bGVUYXJnZXQuY29udGVudERvY3VtZW50LmhlYWQ7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAvLyBpc3RhbmJ1bCBpZ25vcmUgbmV4dFxuICAgICAgICAgIHN0eWxlVGFyZ2V0ID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBtZW1vW3RhcmdldF0gPSBzdHlsZVRhcmdldDtcbiAgICB9XG5cbiAgICByZXR1cm4gbWVtb1t0YXJnZXRdO1xuICB9O1xufSgpO1xuXG52YXIgc3R5bGVzSW5Eb20gPSBbXTtcblxuZnVuY3Rpb24gZ2V0SW5kZXhCeUlkZW50aWZpZXIoaWRlbnRpZmllcikge1xuICB2YXIgcmVzdWx0ID0gLTE7XG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBzdHlsZXNJbkRvbS5sZW5ndGg7IGkrKykge1xuICAgIGlmIChzdHlsZXNJbkRvbVtpXS5pZGVudGlmaWVyID09PSBpZGVudGlmaWVyKSB7XG4gICAgICByZXN1bHQgPSBpO1xuICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuZnVuY3Rpb24gbW9kdWxlc1RvRG9tKGxpc3QsIG9wdGlvbnMpIHtcbiAgdmFyIGlkQ291bnRNYXAgPSB7fTtcbiAgdmFyIGlkZW50aWZpZXJzID0gW107XG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBsaXN0Lmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIGl0ZW0gPSBsaXN0W2ldO1xuICAgIHZhciBpZCA9IG9wdGlvbnMuYmFzZSA/IGl0ZW1bMF0gKyBvcHRpb25zLmJhc2UgOiBpdGVtWzBdO1xuICAgIHZhciBjb3VudCA9IGlkQ291bnRNYXBbaWRdIHx8IDA7XG4gICAgdmFyIGlkZW50aWZpZXIgPSBcIlwiLmNvbmNhdChpZCwgXCIgXCIpLmNvbmNhdChjb3VudCk7XG4gICAgaWRDb3VudE1hcFtpZF0gPSBjb3VudCArIDE7XG4gICAgdmFyIGluZGV4ID0gZ2V0SW5kZXhCeUlkZW50aWZpZXIoaWRlbnRpZmllcik7XG4gICAgdmFyIG9iaiA9IHtcbiAgICAgIGNzczogaXRlbVsxXSxcbiAgICAgIG1lZGlhOiBpdGVtWzJdLFxuICAgICAgc291cmNlTWFwOiBpdGVtWzNdXG4gICAgfTtcblxuICAgIGlmIChpbmRleCAhPT0gLTEpIHtcbiAgICAgIHN0eWxlc0luRG9tW2luZGV4XS5yZWZlcmVuY2VzKys7XG4gICAgICBzdHlsZXNJbkRvbVtpbmRleF0udXBkYXRlcihvYmopO1xuICAgIH0gZWxzZSB7XG4gICAgICBzdHlsZXNJbkRvbS5wdXNoKHtcbiAgICAgICAgaWRlbnRpZmllcjogaWRlbnRpZmllcixcbiAgICAgICAgdXBkYXRlcjogYWRkU3R5bGUob2JqLCBvcHRpb25zKSxcbiAgICAgICAgcmVmZXJlbmNlczogMVxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgaWRlbnRpZmllcnMucHVzaChpZGVudGlmaWVyKTtcbiAgfVxuXG4gIHJldHVybiBpZGVudGlmaWVycztcbn1cblxuZnVuY3Rpb24gaW5zZXJ0U3R5bGVFbGVtZW50KG9wdGlvbnMpIHtcbiAgdmFyIHN0eWxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3R5bGUnKTtcbiAgdmFyIGF0dHJpYnV0ZXMgPSBvcHRpb25zLmF0dHJpYnV0ZXMgfHwge307XG5cbiAgaWYgKHR5cGVvZiBhdHRyaWJ1dGVzLm5vbmNlID09PSAndW5kZWZpbmVkJykge1xuICAgIHZhciBub25jZSA9IHR5cGVvZiBfX3dlYnBhY2tfbm9uY2VfXyAhPT0gJ3VuZGVmaW5lZCcgPyBfX3dlYnBhY2tfbm9uY2VfXyA6IG51bGw7XG5cbiAgICBpZiAobm9uY2UpIHtcbiAgICAgIGF0dHJpYnV0ZXMubm9uY2UgPSBub25jZTtcbiAgICB9XG4gIH1cblxuICBPYmplY3Qua2V5cyhhdHRyaWJ1dGVzKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcbiAgICBzdHlsZS5zZXRBdHRyaWJ1dGUoa2V5LCBhdHRyaWJ1dGVzW2tleV0pO1xuICB9KTtcblxuICBpZiAodHlwZW9mIG9wdGlvbnMuaW5zZXJ0ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgb3B0aW9ucy5pbnNlcnQoc3R5bGUpO1xuICB9IGVsc2Uge1xuICAgIHZhciB0YXJnZXQgPSBnZXRUYXJnZXQob3B0aW9ucy5pbnNlcnQgfHwgJ2hlYWQnKTtcblxuICAgIGlmICghdGFyZ2V0KSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJDb3VsZG4ndCBmaW5kIGEgc3R5bGUgdGFyZ2V0LiBUaGlzIHByb2JhYmx5IG1lYW5zIHRoYXQgdGhlIHZhbHVlIGZvciB0aGUgJ2luc2VydCcgcGFyYW1ldGVyIGlzIGludmFsaWQuXCIpO1xuICAgIH1cblxuICAgIHRhcmdldC5hcHBlbmRDaGlsZChzdHlsZSk7XG4gIH1cblxuICByZXR1cm4gc3R5bGU7XG59XG5cbmZ1bmN0aW9uIHJlbW92ZVN0eWxlRWxlbWVudChzdHlsZSkge1xuICAvLyBpc3RhbmJ1bCBpZ25vcmUgaWZcbiAgaWYgKHN0eWxlLnBhcmVudE5vZGUgPT09IG51bGwpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICBzdHlsZS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHN0eWxlKTtcbn1cbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICAqL1xuXG5cbnZhciByZXBsYWNlVGV4dCA9IGZ1bmN0aW9uIHJlcGxhY2VUZXh0KCkge1xuICB2YXIgdGV4dFN0b3JlID0gW107XG4gIHJldHVybiBmdW5jdGlvbiByZXBsYWNlKGluZGV4LCByZXBsYWNlbWVudCkge1xuICAgIHRleHRTdG9yZVtpbmRleF0gPSByZXBsYWNlbWVudDtcbiAgICByZXR1cm4gdGV4dFN0b3JlLmZpbHRlcihCb29sZWFuKS5qb2luKCdcXG4nKTtcbiAgfTtcbn0oKTtcblxuZnVuY3Rpb24gYXBwbHlUb1NpbmdsZXRvblRhZyhzdHlsZSwgaW5kZXgsIHJlbW92ZSwgb2JqKSB7XG4gIHZhciBjc3MgPSByZW1vdmUgPyAnJyA6IG9iai5tZWRpYSA/IFwiQG1lZGlhIFwiLmNvbmNhdChvYmoubWVkaWEsIFwiIHtcIikuY29uY2F0KG9iai5jc3MsIFwifVwiKSA6IG9iai5jc3M7IC8vIEZvciBvbGQgSUVcblxuICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgICovXG5cbiAgaWYgKHN0eWxlLnN0eWxlU2hlZXQpIHtcbiAgICBzdHlsZS5zdHlsZVNoZWV0LmNzc1RleHQgPSByZXBsYWNlVGV4dChpbmRleCwgY3NzKTtcbiAgfSBlbHNlIHtcbiAgICB2YXIgY3NzTm9kZSA9IGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGNzcyk7XG4gICAgdmFyIGNoaWxkTm9kZXMgPSBzdHlsZS5jaGlsZE5vZGVzO1xuXG4gICAgaWYgKGNoaWxkTm9kZXNbaW5kZXhdKSB7XG4gICAgICBzdHlsZS5yZW1vdmVDaGlsZChjaGlsZE5vZGVzW2luZGV4XSk7XG4gICAgfVxuXG4gICAgaWYgKGNoaWxkTm9kZXMubGVuZ3RoKSB7XG4gICAgICBzdHlsZS5pbnNlcnRCZWZvcmUoY3NzTm9kZSwgY2hpbGROb2Rlc1tpbmRleF0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBzdHlsZS5hcHBlbmRDaGlsZChjc3NOb2RlKTtcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gYXBwbHlUb1RhZyhzdHlsZSwgb3B0aW9ucywgb2JqKSB7XG4gIHZhciBjc3MgPSBvYmouY3NzO1xuICB2YXIgbWVkaWEgPSBvYmoubWVkaWE7XG4gIHZhciBzb3VyY2VNYXAgPSBvYmouc291cmNlTWFwO1xuXG4gIGlmIChtZWRpYSkge1xuICAgIHN0eWxlLnNldEF0dHJpYnV0ZSgnbWVkaWEnLCBtZWRpYSk7XG4gIH0gZWxzZSB7XG4gICAgc3R5bGUucmVtb3ZlQXR0cmlidXRlKCdtZWRpYScpO1xuICB9XG5cbiAgaWYgKHNvdXJjZU1hcCAmJiB0eXBlb2YgYnRvYSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICBjc3MgKz0gXCJcXG4vKiMgc291cmNlTWFwcGluZ1VSTD1kYXRhOmFwcGxpY2F0aW9uL2pzb247YmFzZTY0LFwiLmNvbmNhdChidG9hKHVuZXNjYXBlKGVuY29kZVVSSUNvbXBvbmVudChKU09OLnN0cmluZ2lmeShzb3VyY2VNYXApKSkpLCBcIiAqL1wiKTtcbiAgfSAvLyBGb3Igb2xkIElFXG5cbiAgLyogaXN0YW5idWwgaWdub3JlIGlmICAqL1xuXG5cbiAgaWYgKHN0eWxlLnN0eWxlU2hlZXQpIHtcbiAgICBzdHlsZS5zdHlsZVNoZWV0LmNzc1RleHQgPSBjc3M7XG4gIH0gZWxzZSB7XG4gICAgd2hpbGUgKHN0eWxlLmZpcnN0Q2hpbGQpIHtcbiAgICAgIHN0eWxlLnJlbW92ZUNoaWxkKHN0eWxlLmZpcnN0Q2hpbGQpO1xuICAgIH1cblxuICAgIHN0eWxlLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGNzcykpO1xuICB9XG59XG5cbnZhciBzaW5nbGV0b24gPSBudWxsO1xudmFyIHNpbmdsZXRvbkNvdW50ZXIgPSAwO1xuXG5mdW5jdGlvbiBhZGRTdHlsZShvYmosIG9wdGlvbnMpIHtcbiAgdmFyIHN0eWxlO1xuICB2YXIgdXBkYXRlO1xuICB2YXIgcmVtb3ZlO1xuXG4gIGlmIChvcHRpb25zLnNpbmdsZXRvbikge1xuICAgIHZhciBzdHlsZUluZGV4ID0gc2luZ2xldG9uQ291bnRlcisrO1xuICAgIHN0eWxlID0gc2luZ2xldG9uIHx8IChzaW5nbGV0b24gPSBpbnNlcnRTdHlsZUVsZW1lbnQob3B0aW9ucykpO1xuICAgIHVwZGF0ZSA9IGFwcGx5VG9TaW5nbGV0b25UYWcuYmluZChudWxsLCBzdHlsZSwgc3R5bGVJbmRleCwgZmFsc2UpO1xuICAgIHJlbW92ZSA9IGFwcGx5VG9TaW5nbGV0b25UYWcuYmluZChudWxsLCBzdHlsZSwgc3R5bGVJbmRleCwgdHJ1ZSk7XG4gIH0gZWxzZSB7XG4gICAgc3R5bGUgPSBpbnNlcnRTdHlsZUVsZW1lbnQob3B0aW9ucyk7XG4gICAgdXBkYXRlID0gYXBwbHlUb1RhZy5iaW5kKG51bGwsIHN0eWxlLCBvcHRpb25zKTtcblxuICAgIHJlbW92ZSA9IGZ1bmN0aW9uIHJlbW92ZSgpIHtcbiAgICAgIHJlbW92ZVN0eWxlRWxlbWVudChzdHlsZSk7XG4gICAgfTtcbiAgfVxuXG4gIHVwZGF0ZShvYmopO1xuICByZXR1cm4gZnVuY3Rpb24gdXBkYXRlU3R5bGUobmV3T2JqKSB7XG4gICAgaWYgKG5ld09iaikge1xuICAgICAgaWYgKG5ld09iai5jc3MgPT09IG9iai5jc3MgJiYgbmV3T2JqLm1lZGlhID09PSBvYmoubWVkaWEgJiYgbmV3T2JqLnNvdXJjZU1hcCA9PT0gb2JqLnNvdXJjZU1hcCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHVwZGF0ZShvYmogPSBuZXdPYmopO1xuICAgIH0gZWxzZSB7XG4gICAgICByZW1vdmUoKTtcbiAgICB9XG4gIH07XG59XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGxpc3QsIG9wdGlvbnMpIHtcbiAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307IC8vIEZvcmNlIHNpbmdsZS10YWcgc29sdXRpb24gb24gSUU2LTksIHdoaWNoIGhhcyBhIGhhcmQgbGltaXQgb24gdGhlICMgb2YgPHN0eWxlPlxuICAvLyB0YWdzIGl0IHdpbGwgYWxsb3cgb24gYSBwYWdlXG5cbiAgaWYgKCFvcHRpb25zLnNpbmdsZXRvbiAmJiB0eXBlb2Ygb3B0aW9ucy5zaW5nbGV0b24gIT09ICdib29sZWFuJykge1xuICAgIG9wdGlvbnMuc2luZ2xldG9uID0gaXNPbGRJRSgpO1xuICB9XG5cbiAgbGlzdCA9IGxpc3QgfHwgW107XG4gIHZhciBsYXN0SWRlbnRpZmllcnMgPSBtb2R1bGVzVG9Eb20obGlzdCwgb3B0aW9ucyk7XG4gIHJldHVybiBmdW5jdGlvbiB1cGRhdGUobmV3TGlzdCkge1xuICAgIG5ld0xpc3QgPSBuZXdMaXN0IHx8IFtdO1xuXG4gICAgaWYgKE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChuZXdMaXN0KSAhPT0gJ1tvYmplY3QgQXJyYXldJykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGFzdElkZW50aWZpZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgaWRlbnRpZmllciA9IGxhc3RJZGVudGlmaWVyc1tpXTtcbiAgICAgIHZhciBpbmRleCA9IGdldEluZGV4QnlJZGVudGlmaWVyKGlkZW50aWZpZXIpO1xuICAgICAgc3R5bGVzSW5Eb21baW5kZXhdLnJlZmVyZW5jZXMtLTtcbiAgICB9XG5cbiAgICB2YXIgbmV3TGFzdElkZW50aWZpZXJzID0gbW9kdWxlc1RvRG9tKG5ld0xpc3QsIG9wdGlvbnMpO1xuXG4gICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGxhc3RJZGVudGlmaWVycy5sZW5ndGg7IF9pKyspIHtcbiAgICAgIHZhciBfaWRlbnRpZmllciA9IGxhc3RJZGVudGlmaWVyc1tfaV07XG5cbiAgICAgIHZhciBfaW5kZXggPSBnZXRJbmRleEJ5SWRlbnRpZmllcihfaWRlbnRpZmllcik7XG5cbiAgICAgIGlmIChzdHlsZXNJbkRvbVtfaW5kZXhdLnJlZmVyZW5jZXMgPT09IDApIHtcbiAgICAgICAgc3R5bGVzSW5Eb21bX2luZGV4XS51cGRhdGVyKCk7XG5cbiAgICAgICAgc3R5bGVzSW5Eb20uc3BsaWNlKF9pbmRleCwgMSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgbGFzdElkZW50aWZpZXJzID0gbmV3TGFzdElkZW50aWZpZXJzO1xuICB9O1xufTsiLCIvKipcbiAqIERvbTcgNC4wLjRcbiAqIE1pbmltYWxpc3RpYyBKYXZhU2NyaXB0IGxpYnJhcnkgZm9yIERPTSBtYW5pcHVsYXRpb24sIHdpdGggYSBqUXVlcnktY29tcGF0aWJsZSBBUElcbiAqIGh0dHBzOi8vZnJhbWV3b3JrNy5pby9kb2NzL2RvbTcuaHRtbFxuICpcbiAqIENvcHlyaWdodCAyMDIyLCBWbGFkaW1pciBLaGFybGFtcGlkaVxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIE1JVFxuICpcbiAqIFJlbGVhc2VkIG9uOiBKYW51YXJ5IDExLCAyMDIyXG4gKi9cbmltcG9ydCB7IGdldFdpbmRvdywgZ2V0RG9jdW1lbnQgfSBmcm9tICdzc3Itd2luZG93JztcblxuLyogZXNsaW50LWRpc2FibGUgbm8tcHJvdG8gKi9cbmZ1bmN0aW9uIG1ha2VSZWFjdGl2ZShvYmopIHtcbiAgY29uc3QgcHJvdG8gPSBvYmouX19wcm90b19fO1xuICBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCAnX19wcm90b19fJywge1xuICAgIGdldCgpIHtcbiAgICAgIHJldHVybiBwcm90bztcbiAgICB9LFxuXG4gICAgc2V0KHZhbHVlKSB7XG4gICAgICBwcm90by5fX3Byb3RvX18gPSB2YWx1ZTtcbiAgICB9XG5cbiAgfSk7XG59XG5cbmNsYXNzIERvbTcgZXh0ZW5kcyBBcnJheSB7XG4gIGNvbnN0cnVjdG9yKGl0ZW1zKSB7XG4gICAgaWYgKHR5cGVvZiBpdGVtcyA9PT0gJ251bWJlcicpIHtcbiAgICAgIHN1cGVyKGl0ZW1zKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc3VwZXIoLi4uKGl0ZW1zIHx8IFtdKSk7XG4gICAgICBtYWtlUmVhY3RpdmUodGhpcyk7XG4gICAgfVxuICB9XG5cbn1cblxuZnVuY3Rpb24gYXJyYXlGbGF0KGFyciA9IFtdKSB7XG4gIGNvbnN0IHJlcyA9IFtdO1xuICBhcnIuZm9yRWFjaChlbCA9PiB7XG4gICAgaWYgKEFycmF5LmlzQXJyYXkoZWwpKSB7XG4gICAgICByZXMucHVzaCguLi5hcnJheUZsYXQoZWwpKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmVzLnB1c2goZWwpO1xuICAgIH1cbiAgfSk7XG4gIHJldHVybiByZXM7XG59XG5mdW5jdGlvbiBhcnJheUZpbHRlcihhcnIsIGNhbGxiYWNrKSB7XG4gIHJldHVybiBBcnJheS5wcm90b3R5cGUuZmlsdGVyLmNhbGwoYXJyLCBjYWxsYmFjayk7XG59XG5mdW5jdGlvbiBhcnJheVVuaXF1ZShhcnIpIHtcbiAgY29uc3QgdW5pcXVlQXJyYXkgPSBbXTtcblxuICBmb3IgKGxldCBpID0gMDsgaSA8IGFyci5sZW5ndGg7IGkgKz0gMSkge1xuICAgIGlmICh1bmlxdWVBcnJheS5pbmRleE9mKGFycltpXSkgPT09IC0xKSB1bmlxdWVBcnJheS5wdXNoKGFycltpXSk7XG4gIH1cblxuICByZXR1cm4gdW5pcXVlQXJyYXk7XG59XG5mdW5jdGlvbiB0b0NhbWVsQ2FzZShzdHJpbmcpIHtcbiAgcmV0dXJuIHN0cmluZy50b0xvd2VyQ2FzZSgpLnJlcGxhY2UoLy0oLikvZywgKG1hdGNoLCBncm91cCkgPT4gZ3JvdXAudG9VcHBlckNhc2UoKSk7XG59XG5cbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZVxuXG5mdW5jdGlvbiBxc2Eoc2VsZWN0b3IsIGNvbnRleHQpIHtcbiAgaWYgKHR5cGVvZiBzZWxlY3RvciAhPT0gJ3N0cmluZycpIHtcbiAgICByZXR1cm4gW3NlbGVjdG9yXTtcbiAgfVxuXG4gIGNvbnN0IGEgPSBbXTtcbiAgY29uc3QgcmVzID0gY29udGV4dC5xdWVyeVNlbGVjdG9yQWxsKHNlbGVjdG9yKTtcblxuICBmb3IgKGxldCBpID0gMDsgaSA8IHJlcy5sZW5ndGg7IGkgKz0gMSkge1xuICAgIGEucHVzaChyZXNbaV0pO1xuICB9XG5cbiAgcmV0dXJuIGE7XG59XG5cbmZ1bmN0aW9uICQoc2VsZWN0b3IsIGNvbnRleHQpIHtcbiAgY29uc3Qgd2luZG93ID0gZ2V0V2luZG93KCk7XG4gIGNvbnN0IGRvY3VtZW50ID0gZ2V0RG9jdW1lbnQoKTtcbiAgbGV0IGFyciA9IFtdO1xuXG4gIGlmICghY29udGV4dCAmJiBzZWxlY3RvciBpbnN0YW5jZW9mIERvbTcpIHtcbiAgICByZXR1cm4gc2VsZWN0b3I7XG4gIH1cblxuICBpZiAoIXNlbGVjdG9yKSB7XG4gICAgcmV0dXJuIG5ldyBEb203KGFycik7XG4gIH1cblxuICBpZiAodHlwZW9mIHNlbGVjdG9yID09PSAnc3RyaW5nJykge1xuICAgIGNvbnN0IGh0bWwgPSBzZWxlY3Rvci50cmltKCk7XG5cbiAgICBpZiAoaHRtbC5pbmRleE9mKCc8JykgPj0gMCAmJiBodG1sLmluZGV4T2YoJz4nKSA+PSAwKSB7XG4gICAgICBsZXQgdG9DcmVhdGUgPSAnZGl2JztcbiAgICAgIGlmIChodG1sLmluZGV4T2YoJzxsaScpID09PSAwKSB0b0NyZWF0ZSA9ICd1bCc7XG4gICAgICBpZiAoaHRtbC5pbmRleE9mKCc8dHInKSA9PT0gMCkgdG9DcmVhdGUgPSAndGJvZHknO1xuICAgICAgaWYgKGh0bWwuaW5kZXhPZignPHRkJykgPT09IDAgfHwgaHRtbC5pbmRleE9mKCc8dGgnKSA9PT0gMCkgdG9DcmVhdGUgPSAndHInO1xuICAgICAgaWYgKGh0bWwuaW5kZXhPZignPHRib2R5JykgPT09IDApIHRvQ3JlYXRlID0gJ3RhYmxlJztcbiAgICAgIGlmIChodG1sLmluZGV4T2YoJzxvcHRpb24nKSA9PT0gMCkgdG9DcmVhdGUgPSAnc2VsZWN0JztcbiAgICAgIGNvbnN0IHRlbXBQYXJlbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KHRvQ3JlYXRlKTtcbiAgICAgIHRlbXBQYXJlbnQuaW5uZXJIVE1MID0gaHRtbDtcblxuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0ZW1wUGFyZW50LmNoaWxkTm9kZXMubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgICAgYXJyLnB1c2godGVtcFBhcmVudC5jaGlsZE5vZGVzW2ldKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgYXJyID0gcXNhKHNlbGVjdG9yLnRyaW0oKSwgY29udGV4dCB8fCBkb2N1bWVudCk7XG4gICAgfSAvLyBhcnIgPSBxc2Eoc2VsZWN0b3IsIGRvY3VtZW50KTtcblxuICB9IGVsc2UgaWYgKHNlbGVjdG9yLm5vZGVUeXBlIHx8IHNlbGVjdG9yID09PSB3aW5kb3cgfHwgc2VsZWN0b3IgPT09IGRvY3VtZW50KSB7XG4gICAgYXJyLnB1c2goc2VsZWN0b3IpO1xuICB9IGVsc2UgaWYgKEFycmF5LmlzQXJyYXkoc2VsZWN0b3IpKSB7XG4gICAgaWYgKHNlbGVjdG9yIGluc3RhbmNlb2YgRG9tNykgcmV0dXJuIHNlbGVjdG9yO1xuICAgIGFyciA9IHNlbGVjdG9yO1xuICB9XG5cbiAgcmV0dXJuIG5ldyBEb203KGFycmF5VW5pcXVlKGFycikpO1xufVxuXG4kLmZuID0gRG9tNy5wcm90b3R5cGU7XG5cbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZVxuXG5mdW5jdGlvbiBhZGRDbGFzcyguLi5jbGFzc2VzKSB7XG4gIGNvbnN0IGNsYXNzTmFtZXMgPSBhcnJheUZsYXQoY2xhc3Nlcy5tYXAoYyA9PiBjLnNwbGl0KCcgJykpKTtcbiAgdGhpcy5mb3JFYWNoKGVsID0+IHtcbiAgICBlbC5jbGFzc0xpc3QuYWRkKC4uLmNsYXNzTmFtZXMpO1xuICB9KTtcbiAgcmV0dXJuIHRoaXM7XG59XG5cbmZ1bmN0aW9uIHJlbW92ZUNsYXNzKC4uLmNsYXNzZXMpIHtcbiAgY29uc3QgY2xhc3NOYW1lcyA9IGFycmF5RmxhdChjbGFzc2VzLm1hcChjID0+IGMuc3BsaXQoJyAnKSkpO1xuICB0aGlzLmZvckVhY2goZWwgPT4ge1xuICAgIGVsLmNsYXNzTGlzdC5yZW1vdmUoLi4uY2xhc3NOYW1lcyk7XG4gIH0pO1xuICByZXR1cm4gdGhpcztcbn1cblxuZnVuY3Rpb24gdG9nZ2xlQ2xhc3MoLi4uY2xhc3Nlcykge1xuICBjb25zdCBjbGFzc05hbWVzID0gYXJyYXlGbGF0KGNsYXNzZXMubWFwKGMgPT4gYy5zcGxpdCgnICcpKSk7XG4gIHRoaXMuZm9yRWFjaChlbCA9PiB7XG4gICAgY2xhc3NOYW1lcy5mb3JFYWNoKGNsYXNzTmFtZSA9PiB7XG4gICAgICBlbC5jbGFzc0xpc3QudG9nZ2xlKGNsYXNzTmFtZSk7XG4gICAgfSk7XG4gIH0pO1xufVxuXG5mdW5jdGlvbiBoYXNDbGFzcyguLi5jbGFzc2VzKSB7XG4gIGNvbnN0IGNsYXNzTmFtZXMgPSBhcnJheUZsYXQoY2xhc3Nlcy5tYXAoYyA9PiBjLnNwbGl0KCcgJykpKTtcbiAgcmV0dXJuIGFycmF5RmlsdGVyKHRoaXMsIGVsID0+IHtcbiAgICByZXR1cm4gY2xhc3NOYW1lcy5maWx0ZXIoY2xhc3NOYW1lID0+IGVsLmNsYXNzTGlzdC5jb250YWlucyhjbGFzc05hbWUpKS5sZW5ndGggPiAwO1xuICB9KS5sZW5ndGggPiAwO1xufVxuXG5mdW5jdGlvbiBhdHRyKGF0dHJzLCB2YWx1ZSkge1xuICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMSAmJiB0eXBlb2YgYXR0cnMgPT09ICdzdHJpbmcnKSB7XG4gICAgLy8gR2V0IGF0dHJcbiAgICBpZiAodGhpc1swXSkgcmV0dXJuIHRoaXNbMF0uZ2V0QXR0cmlidXRlKGF0dHJzKTtcbiAgICByZXR1cm4gdW5kZWZpbmVkO1xuICB9IC8vIFNldCBhdHRyc1xuXG5cbiAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDIpIHtcbiAgICAgIC8vIFN0cmluZ1xuICAgICAgdGhpc1tpXS5zZXRBdHRyaWJ1dGUoYXR0cnMsIHZhbHVlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gT2JqZWN0XG4gICAgICBmb3IgKGNvbnN0IGF0dHJOYW1lIGluIGF0dHJzKSB7XG4gICAgICAgIHRoaXNbaV1bYXR0ck5hbWVdID0gYXR0cnNbYXR0ck5hbWVdO1xuICAgICAgICB0aGlzW2ldLnNldEF0dHJpYnV0ZShhdHRyTmFtZSwgYXR0cnNbYXR0ck5hbWVdKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICByZXR1cm4gdGhpcztcbn1cblxuZnVuY3Rpb24gcmVtb3ZlQXR0cihhdHRyKSB7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5sZW5ndGg7IGkgKz0gMSkge1xuICAgIHRoaXNbaV0ucmVtb3ZlQXR0cmlidXRlKGF0dHIpO1xuICB9XG5cbiAgcmV0dXJuIHRoaXM7XG59XG5cbmZ1bmN0aW9uIHByb3AocHJvcHMsIHZhbHVlKSB7XG4gIGlmIChhcmd1bWVudHMubGVuZ3RoID09PSAxICYmIHR5cGVvZiBwcm9wcyA9PT0gJ3N0cmluZycpIHtcbiAgICAvLyBHZXQgcHJvcFxuICAgIGlmICh0aGlzWzBdKSByZXR1cm4gdGhpc1swXVtwcm9wc107XG4gIH0gZWxzZSB7XG4gICAgLy8gU2V0IHByb3BzXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMikge1xuICAgICAgICAvLyBTdHJpbmdcbiAgICAgICAgdGhpc1tpXVtwcm9wc10gPSB2YWx1ZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIE9iamVjdFxuICAgICAgICBmb3IgKGNvbnN0IHByb3BOYW1lIGluIHByb3BzKSB7XG4gICAgICAgICAgdGhpc1tpXVtwcm9wTmFtZV0gPSBwcm9wc1twcm9wTmFtZV07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIHJldHVybiB0aGlzO1xufVxuXG5mdW5jdGlvbiBkYXRhKGtleSwgdmFsdWUpIHtcbiAgbGV0IGVsO1xuXG4gIGlmICh0eXBlb2YgdmFsdWUgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgZWwgPSB0aGlzWzBdO1xuICAgIGlmICghZWwpIHJldHVybiB1bmRlZmluZWQ7IC8vIEdldCB2YWx1ZVxuXG4gICAgaWYgKGVsLmRvbTdFbGVtZW50RGF0YVN0b3JhZ2UgJiYga2V5IGluIGVsLmRvbTdFbGVtZW50RGF0YVN0b3JhZ2UpIHtcbiAgICAgIHJldHVybiBlbC5kb203RWxlbWVudERhdGFTdG9yYWdlW2tleV07XG4gICAgfVxuXG4gICAgY29uc3QgZGF0YUtleSA9IGVsLmdldEF0dHJpYnV0ZShgZGF0YS0ke2tleX1gKTtcblxuICAgIGlmIChkYXRhS2V5KSB7XG4gICAgICByZXR1cm4gZGF0YUtleTtcbiAgICB9XG5cbiAgICByZXR1cm4gdW5kZWZpbmVkO1xuICB9IC8vIFNldCB2YWx1ZVxuXG5cbiAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgZWwgPSB0aGlzW2ldO1xuICAgIGlmICghZWwuZG9tN0VsZW1lbnREYXRhU3RvcmFnZSkgZWwuZG9tN0VsZW1lbnREYXRhU3RvcmFnZSA9IHt9O1xuICAgIGVsLmRvbTdFbGVtZW50RGF0YVN0b3JhZ2Vba2V5XSA9IHZhbHVlO1xuICB9XG5cbiAgcmV0dXJuIHRoaXM7XG59XG5cbmZ1bmN0aW9uIHJlbW92ZURhdGEoa2V5KSB7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5sZW5ndGg7IGkgKz0gMSkge1xuICAgIGNvbnN0IGVsID0gdGhpc1tpXTtcblxuICAgIGlmIChlbC5kb203RWxlbWVudERhdGFTdG9yYWdlICYmIGVsLmRvbTdFbGVtZW50RGF0YVN0b3JhZ2Vba2V5XSkge1xuICAgICAgZWwuZG9tN0VsZW1lbnREYXRhU3RvcmFnZVtrZXldID0gbnVsbDtcbiAgICAgIGRlbGV0ZSBlbC5kb203RWxlbWVudERhdGFTdG9yYWdlW2tleV07XG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIGRhdGFzZXQoKSB7XG4gIGNvbnN0IGVsID0gdGhpc1swXTtcbiAgaWYgKCFlbCkgcmV0dXJuIHVuZGVmaW5lZDtcbiAgY29uc3QgZGF0YXNldCA9IHt9OyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lXG5cbiAgaWYgKGVsLmRhdGFzZXQpIHtcbiAgICBmb3IgKGNvbnN0IGRhdGFLZXkgaW4gZWwuZGF0YXNldCkge1xuICAgICAgZGF0YXNldFtkYXRhS2V5XSA9IGVsLmRhdGFzZXRbZGF0YUtleV07XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZWwuYXR0cmlidXRlcy5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgY29uc3QgYXR0ciA9IGVsLmF0dHJpYnV0ZXNbaV07XG5cbiAgICAgIGlmIChhdHRyLm5hbWUuaW5kZXhPZignZGF0YS0nKSA+PSAwKSB7XG4gICAgICAgIGRhdGFzZXRbdG9DYW1lbENhc2UoYXR0ci5uYW1lLnNwbGl0KCdkYXRhLScpWzFdKV0gPSBhdHRyLnZhbHVlO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGZvciAoY29uc3Qga2V5IGluIGRhdGFzZXQpIHtcbiAgICBpZiAoZGF0YXNldFtrZXldID09PSAnZmFsc2UnKSBkYXRhc2V0W2tleV0gPSBmYWxzZTtlbHNlIGlmIChkYXRhc2V0W2tleV0gPT09ICd0cnVlJykgZGF0YXNldFtrZXldID0gdHJ1ZTtlbHNlIGlmIChwYXJzZUZsb2F0KGRhdGFzZXRba2V5XSkgPT09IGRhdGFzZXRba2V5XSAqIDEpIGRhdGFzZXRba2V5XSAqPSAxO1xuICB9XG5cbiAgcmV0dXJuIGRhdGFzZXQ7XG59XG5cbmZ1bmN0aW9uIHZhbCh2YWx1ZSkge1xuICBpZiAodHlwZW9mIHZhbHVlID09PSAndW5kZWZpbmVkJykge1xuICAgIC8vIGdldCB2YWx1ZVxuICAgIGNvbnN0IGVsID0gdGhpc1swXTtcbiAgICBpZiAoIWVsKSByZXR1cm4gdW5kZWZpbmVkO1xuXG4gICAgaWYgKGVsLm11bHRpcGxlICYmIGVsLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkgPT09ICdzZWxlY3QnKSB7XG4gICAgICBjb25zdCB2YWx1ZXMgPSBbXTtcblxuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBlbC5zZWxlY3RlZE9wdGlvbnMubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgICAgdmFsdWVzLnB1c2goZWwuc2VsZWN0ZWRPcHRpb25zW2ldLnZhbHVlKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHZhbHVlcztcbiAgICB9XG5cbiAgICByZXR1cm4gZWwudmFsdWU7XG4gIH0gLy8gc2V0IHZhbHVlXG5cblxuICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMubGVuZ3RoOyBpICs9IDEpIHtcbiAgICBjb25zdCBlbCA9IHRoaXNbaV07XG5cbiAgICBpZiAoQXJyYXkuaXNBcnJheSh2YWx1ZSkgJiYgZWwubXVsdGlwbGUgJiYgZWwubm9kZU5hbWUudG9Mb3dlckNhc2UoKSA9PT0gJ3NlbGVjdCcpIHtcbiAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgZWwub3B0aW9ucy5sZW5ndGg7IGogKz0gMSkge1xuICAgICAgICBlbC5vcHRpb25zW2pdLnNlbGVjdGVkID0gdmFsdWUuaW5kZXhPZihlbC5vcHRpb25zW2pdLnZhbHVlKSA+PSAwO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBlbC52YWx1ZSA9IHZhbHVlO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiB0aGlzO1xufVxuXG5mdW5jdGlvbiB2YWx1ZSh2YWx1ZSkge1xuICByZXR1cm4gdGhpcy52YWwodmFsdWUpO1xufVxuXG5mdW5jdGlvbiB0cmFuc2Zvcm0odHJhbnNmb3JtKSB7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5sZW5ndGg7IGkgKz0gMSkge1xuICAgIHRoaXNbaV0uc3R5bGUudHJhbnNmb3JtID0gdHJhbnNmb3JtO1xuICB9XG5cbiAgcmV0dXJuIHRoaXM7XG59XG5cbmZ1bmN0aW9uIHRyYW5zaXRpb24oZHVyYXRpb24pIHtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgdGhpc1tpXS5zdHlsZS50cmFuc2l0aW9uRHVyYXRpb24gPSB0eXBlb2YgZHVyYXRpb24gIT09ICdzdHJpbmcnID8gYCR7ZHVyYXRpb259bXNgIDogZHVyYXRpb247XG4gIH1cblxuICByZXR1cm4gdGhpcztcbn1cblxuZnVuY3Rpb24gb24oLi4uYXJncykge1xuICBsZXQgW2V2ZW50VHlwZSwgdGFyZ2V0U2VsZWN0b3IsIGxpc3RlbmVyLCBjYXB0dXJlXSA9IGFyZ3M7XG5cbiAgaWYgKHR5cGVvZiBhcmdzWzFdID09PSAnZnVuY3Rpb24nKSB7XG4gICAgW2V2ZW50VHlwZSwgbGlzdGVuZXIsIGNhcHR1cmVdID0gYXJncztcbiAgICB0YXJnZXRTZWxlY3RvciA9IHVuZGVmaW5lZDtcbiAgfVxuXG4gIGlmICghY2FwdHVyZSkgY2FwdHVyZSA9IGZhbHNlO1xuXG4gIGZ1bmN0aW9uIGhhbmRsZUxpdmVFdmVudChlKSB7XG4gICAgY29uc3QgdGFyZ2V0ID0gZS50YXJnZXQ7XG4gICAgaWYgKCF0YXJnZXQpIHJldHVybjtcbiAgICBjb25zdCBldmVudERhdGEgPSBlLnRhcmdldC5kb203RXZlbnREYXRhIHx8IFtdO1xuXG4gICAgaWYgKGV2ZW50RGF0YS5pbmRleE9mKGUpIDwgMCkge1xuICAgICAgZXZlbnREYXRhLnVuc2hpZnQoZSk7XG4gICAgfVxuXG4gICAgaWYgKCQodGFyZ2V0KS5pcyh0YXJnZXRTZWxlY3RvcikpIGxpc3RlbmVyLmFwcGx5KHRhcmdldCwgZXZlbnREYXRhKTtlbHNlIHtcbiAgICAgIGNvbnN0IHBhcmVudHMgPSAkKHRhcmdldCkucGFyZW50cygpOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lXG5cbiAgICAgIGZvciAobGV0IGsgPSAwOyBrIDwgcGFyZW50cy5sZW5ndGg7IGsgKz0gMSkge1xuICAgICAgICBpZiAoJChwYXJlbnRzW2tdKS5pcyh0YXJnZXRTZWxlY3RvcikpIGxpc3RlbmVyLmFwcGx5KHBhcmVudHNba10sIGV2ZW50RGF0YSk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gaGFuZGxlRXZlbnQoZSkge1xuICAgIGNvbnN0IGV2ZW50RGF0YSA9IGUgJiYgZS50YXJnZXQgPyBlLnRhcmdldC5kb203RXZlbnREYXRhIHx8IFtdIDogW107XG5cbiAgICBpZiAoZXZlbnREYXRhLmluZGV4T2YoZSkgPCAwKSB7XG4gICAgICBldmVudERhdGEudW5zaGlmdChlKTtcbiAgICB9XG5cbiAgICBsaXN0ZW5lci5hcHBseSh0aGlzLCBldmVudERhdGEpO1xuICB9XG5cbiAgY29uc3QgZXZlbnRzID0gZXZlbnRUeXBlLnNwbGl0KCcgJyk7XG4gIGxldCBqO1xuXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5sZW5ndGg7IGkgKz0gMSkge1xuICAgIGNvbnN0IGVsID0gdGhpc1tpXTtcblxuICAgIGlmICghdGFyZ2V0U2VsZWN0b3IpIHtcbiAgICAgIGZvciAoaiA9IDA7IGogPCBldmVudHMubGVuZ3RoOyBqICs9IDEpIHtcbiAgICAgICAgY29uc3QgZXZlbnQgPSBldmVudHNbal07XG4gICAgICAgIGlmICghZWwuZG9tN0xpc3RlbmVycykgZWwuZG9tN0xpc3RlbmVycyA9IHt9O1xuICAgICAgICBpZiAoIWVsLmRvbTdMaXN0ZW5lcnNbZXZlbnRdKSBlbC5kb203TGlzdGVuZXJzW2V2ZW50XSA9IFtdO1xuICAgICAgICBlbC5kb203TGlzdGVuZXJzW2V2ZW50XS5wdXNoKHtcbiAgICAgICAgICBsaXN0ZW5lcixcbiAgICAgICAgICBwcm94eUxpc3RlbmVyOiBoYW5kbGVFdmVudFxuICAgICAgICB9KTtcbiAgICAgICAgZWwuYWRkRXZlbnRMaXN0ZW5lcihldmVudCwgaGFuZGxlRXZlbnQsIGNhcHR1cmUpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICAvLyBMaXZlIGV2ZW50c1xuICAgICAgZm9yIChqID0gMDsgaiA8IGV2ZW50cy5sZW5ndGg7IGogKz0gMSkge1xuICAgICAgICBjb25zdCBldmVudCA9IGV2ZW50c1tqXTtcbiAgICAgICAgaWYgKCFlbC5kb203TGl2ZUxpc3RlbmVycykgZWwuZG9tN0xpdmVMaXN0ZW5lcnMgPSB7fTtcbiAgICAgICAgaWYgKCFlbC5kb203TGl2ZUxpc3RlbmVyc1tldmVudF0pIGVsLmRvbTdMaXZlTGlzdGVuZXJzW2V2ZW50XSA9IFtdO1xuICAgICAgICBlbC5kb203TGl2ZUxpc3RlbmVyc1tldmVudF0ucHVzaCh7XG4gICAgICAgICAgbGlzdGVuZXIsXG4gICAgICAgICAgcHJveHlMaXN0ZW5lcjogaGFuZGxlTGl2ZUV2ZW50XG4gICAgICAgIH0pO1xuICAgICAgICBlbC5hZGRFdmVudExpc3RlbmVyKGV2ZW50LCBoYW5kbGVMaXZlRXZlbnQsIGNhcHR1cmUpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiB0aGlzO1xufVxuXG5mdW5jdGlvbiBvZmYoLi4uYXJncykge1xuICBsZXQgW2V2ZW50VHlwZSwgdGFyZ2V0U2VsZWN0b3IsIGxpc3RlbmVyLCBjYXB0dXJlXSA9IGFyZ3M7XG5cbiAgaWYgKHR5cGVvZiBhcmdzWzFdID09PSAnZnVuY3Rpb24nKSB7XG4gICAgW2V2ZW50VHlwZSwgbGlzdGVuZXIsIGNhcHR1cmVdID0gYXJncztcbiAgICB0YXJnZXRTZWxlY3RvciA9IHVuZGVmaW5lZDtcbiAgfVxuXG4gIGlmICghY2FwdHVyZSkgY2FwdHVyZSA9IGZhbHNlO1xuICBjb25zdCBldmVudHMgPSBldmVudFR5cGUuc3BsaXQoJyAnKTtcblxuICBmb3IgKGxldCBpID0gMDsgaSA8IGV2ZW50cy5sZW5ndGg7IGkgKz0gMSkge1xuICAgIGNvbnN0IGV2ZW50ID0gZXZlbnRzW2ldO1xuXG4gICAgZm9yIChsZXQgaiA9IDA7IGogPCB0aGlzLmxlbmd0aDsgaiArPSAxKSB7XG4gICAgICBjb25zdCBlbCA9IHRoaXNbal07XG4gICAgICBsZXQgaGFuZGxlcnM7XG5cbiAgICAgIGlmICghdGFyZ2V0U2VsZWN0b3IgJiYgZWwuZG9tN0xpc3RlbmVycykge1xuICAgICAgICBoYW5kbGVycyA9IGVsLmRvbTdMaXN0ZW5lcnNbZXZlbnRdO1xuICAgICAgfSBlbHNlIGlmICh0YXJnZXRTZWxlY3RvciAmJiBlbC5kb203TGl2ZUxpc3RlbmVycykge1xuICAgICAgICBoYW5kbGVycyA9IGVsLmRvbTdMaXZlTGlzdGVuZXJzW2V2ZW50XTtcbiAgICAgIH1cblxuICAgICAgaWYgKGhhbmRsZXJzICYmIGhhbmRsZXJzLmxlbmd0aCkge1xuICAgICAgICBmb3IgKGxldCBrID0gaGFuZGxlcnMubGVuZ3RoIC0gMTsgayA+PSAwOyBrIC09IDEpIHtcbiAgICAgICAgICBjb25zdCBoYW5kbGVyID0gaGFuZGxlcnNba107XG5cbiAgICAgICAgICBpZiAobGlzdGVuZXIgJiYgaGFuZGxlci5saXN0ZW5lciA9PT0gbGlzdGVuZXIpIHtcbiAgICAgICAgICAgIGVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoZXZlbnQsIGhhbmRsZXIucHJveHlMaXN0ZW5lciwgY2FwdHVyZSk7XG4gICAgICAgICAgICBoYW5kbGVycy5zcGxpY2UoaywgMSk7XG4gICAgICAgICAgfSBlbHNlIGlmIChsaXN0ZW5lciAmJiBoYW5kbGVyLmxpc3RlbmVyICYmIGhhbmRsZXIubGlzdGVuZXIuZG9tN3Byb3h5ICYmIGhhbmRsZXIubGlzdGVuZXIuZG9tN3Byb3h5ID09PSBsaXN0ZW5lcikge1xuICAgICAgICAgICAgZWwucmVtb3ZlRXZlbnRMaXN0ZW5lcihldmVudCwgaGFuZGxlci5wcm94eUxpc3RlbmVyLCBjYXB0dXJlKTtcbiAgICAgICAgICAgIGhhbmRsZXJzLnNwbGljZShrLCAxKTtcbiAgICAgICAgICB9IGVsc2UgaWYgKCFsaXN0ZW5lcikge1xuICAgICAgICAgICAgZWwucmVtb3ZlRXZlbnRMaXN0ZW5lcihldmVudCwgaGFuZGxlci5wcm94eUxpc3RlbmVyLCBjYXB0dXJlKTtcbiAgICAgICAgICAgIGhhbmRsZXJzLnNwbGljZShrLCAxKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICByZXR1cm4gdGhpcztcbn1cblxuZnVuY3Rpb24gb25jZSguLi5hcmdzKSB7XG4gIGNvbnN0IGRvbSA9IHRoaXM7XG4gIGxldCBbZXZlbnROYW1lLCB0YXJnZXRTZWxlY3RvciwgbGlzdGVuZXIsIGNhcHR1cmVdID0gYXJncztcblxuICBpZiAodHlwZW9mIGFyZ3NbMV0gPT09ICdmdW5jdGlvbicpIHtcbiAgICBbZXZlbnROYW1lLCBsaXN0ZW5lciwgY2FwdHVyZV0gPSBhcmdzO1xuICAgIHRhcmdldFNlbGVjdG9yID0gdW5kZWZpbmVkO1xuICB9XG5cbiAgZnVuY3Rpb24gb25jZUhhbmRsZXIoLi4uZXZlbnRBcmdzKSB7XG4gICAgbGlzdGVuZXIuYXBwbHkodGhpcywgZXZlbnRBcmdzKTtcbiAgICBkb20ub2ZmKGV2ZW50TmFtZSwgdGFyZ2V0U2VsZWN0b3IsIG9uY2VIYW5kbGVyLCBjYXB0dXJlKTtcblxuICAgIGlmIChvbmNlSGFuZGxlci5kb203cHJveHkpIHtcbiAgICAgIGRlbGV0ZSBvbmNlSGFuZGxlci5kb203cHJveHk7XG4gICAgfVxuICB9XG5cbiAgb25jZUhhbmRsZXIuZG9tN3Byb3h5ID0gbGlzdGVuZXI7XG4gIHJldHVybiBkb20ub24oZXZlbnROYW1lLCB0YXJnZXRTZWxlY3Rvciwgb25jZUhhbmRsZXIsIGNhcHR1cmUpO1xufVxuXG5mdW5jdGlvbiB0cmlnZ2VyKC4uLmFyZ3MpIHtcbiAgY29uc3Qgd2luZG93ID0gZ2V0V2luZG93KCk7XG4gIGNvbnN0IGV2ZW50cyA9IGFyZ3NbMF0uc3BsaXQoJyAnKTtcbiAgY29uc3QgZXZlbnREYXRhID0gYXJnc1sxXTtcblxuICBmb3IgKGxldCBpID0gMDsgaSA8IGV2ZW50cy5sZW5ndGg7IGkgKz0gMSkge1xuICAgIGNvbnN0IGV2ZW50ID0gZXZlbnRzW2ldO1xuXG4gICAgZm9yIChsZXQgaiA9IDA7IGogPCB0aGlzLmxlbmd0aDsgaiArPSAxKSB7XG4gICAgICBjb25zdCBlbCA9IHRoaXNbal07XG5cbiAgICAgIGlmICh3aW5kb3cuQ3VzdG9tRXZlbnQpIHtcbiAgICAgICAgY29uc3QgZXZ0ID0gbmV3IHdpbmRvdy5DdXN0b21FdmVudChldmVudCwge1xuICAgICAgICAgIGRldGFpbDogZXZlbnREYXRhLFxuICAgICAgICAgIGJ1YmJsZXM6IHRydWUsXG4gICAgICAgICAgY2FuY2VsYWJsZTogdHJ1ZVxuICAgICAgICB9KTtcbiAgICAgICAgZWwuZG9tN0V2ZW50RGF0YSA9IGFyZ3MuZmlsdGVyKChkYXRhLCBkYXRhSW5kZXgpID0+IGRhdGFJbmRleCA+IDApO1xuICAgICAgICBlbC5kaXNwYXRjaEV2ZW50KGV2dCk7XG4gICAgICAgIGVsLmRvbTdFdmVudERhdGEgPSBbXTtcbiAgICAgICAgZGVsZXRlIGVsLmRvbTdFdmVudERhdGE7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHRoaXM7XG59XG5cbmZ1bmN0aW9uIHRyYW5zaXRpb25FbmQoY2FsbGJhY2spIHtcbiAgY29uc3QgZG9tID0gdGhpcztcblxuICBmdW5jdGlvbiBmaXJlQ2FsbEJhY2soZSkge1xuICAgIGlmIChlLnRhcmdldCAhPT0gdGhpcykgcmV0dXJuO1xuICAgIGNhbGxiYWNrLmNhbGwodGhpcywgZSk7XG4gICAgZG9tLm9mZigndHJhbnNpdGlvbmVuZCcsIGZpcmVDYWxsQmFjayk7XG4gIH1cblxuICBpZiAoY2FsbGJhY2spIHtcbiAgICBkb20ub24oJ3RyYW5zaXRpb25lbmQnLCBmaXJlQ2FsbEJhY2spO1xuICB9XG5cbiAgcmV0dXJuIHRoaXM7XG59XG5cbmZ1bmN0aW9uIGFuaW1hdGlvbkVuZChjYWxsYmFjaykge1xuICBjb25zdCBkb20gPSB0aGlzO1xuXG4gIGZ1bmN0aW9uIGZpcmVDYWxsQmFjayhlKSB7XG4gICAgaWYgKGUudGFyZ2V0ICE9PSB0aGlzKSByZXR1cm47XG4gICAgY2FsbGJhY2suY2FsbCh0aGlzLCBlKTtcbiAgICBkb20ub2ZmKCdhbmltYXRpb25lbmQnLCBmaXJlQ2FsbEJhY2spO1xuICB9XG5cbiAgaWYgKGNhbGxiYWNrKSB7XG4gICAgZG9tLm9uKCdhbmltYXRpb25lbmQnLCBmaXJlQ2FsbEJhY2spO1xuICB9XG5cbiAgcmV0dXJuIHRoaXM7XG59XG5cbmZ1bmN0aW9uIHdpZHRoKCkge1xuICBjb25zdCB3aW5kb3cgPSBnZXRXaW5kb3coKTtcblxuICBpZiAodGhpc1swXSA9PT0gd2luZG93KSB7XG4gICAgcmV0dXJuIHdpbmRvdy5pbm5lcldpZHRoO1xuICB9XG5cbiAgaWYgKHRoaXMubGVuZ3RoID4gMCkge1xuICAgIHJldHVybiBwYXJzZUZsb2F0KHRoaXMuY3NzKCd3aWR0aCcpKTtcbiAgfVxuXG4gIHJldHVybiBudWxsO1xufVxuXG5mdW5jdGlvbiBvdXRlcldpZHRoKGluY2x1ZGVNYXJnaW5zKSB7XG4gIGlmICh0aGlzLmxlbmd0aCA+IDApIHtcbiAgICBpZiAoaW5jbHVkZU1hcmdpbnMpIHtcbiAgICAgIGNvbnN0IHN0eWxlcyA9IHRoaXMuc3R5bGVzKCk7XG4gICAgICByZXR1cm4gdGhpc1swXS5vZmZzZXRXaWR0aCArIHBhcnNlRmxvYXQoc3R5bGVzLmdldFByb3BlcnR5VmFsdWUoJ21hcmdpbi1yaWdodCcpKSArIHBhcnNlRmxvYXQoc3R5bGVzLmdldFByb3BlcnR5VmFsdWUoJ21hcmdpbi1sZWZ0JykpO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzWzBdLm9mZnNldFdpZHRoO1xuICB9XG5cbiAgcmV0dXJuIG51bGw7XG59XG5cbmZ1bmN0aW9uIGhlaWdodCgpIHtcbiAgY29uc3Qgd2luZG93ID0gZ2V0V2luZG93KCk7XG5cbiAgaWYgKHRoaXNbMF0gPT09IHdpbmRvdykge1xuICAgIHJldHVybiB3aW5kb3cuaW5uZXJIZWlnaHQ7XG4gIH1cblxuICBpZiAodGhpcy5sZW5ndGggPiAwKSB7XG4gICAgcmV0dXJuIHBhcnNlRmxvYXQodGhpcy5jc3MoJ2hlaWdodCcpKTtcbiAgfVxuXG4gIHJldHVybiBudWxsO1xufVxuXG5mdW5jdGlvbiBvdXRlckhlaWdodChpbmNsdWRlTWFyZ2lucykge1xuICBpZiAodGhpcy5sZW5ndGggPiAwKSB7XG4gICAgaWYgKGluY2x1ZGVNYXJnaW5zKSB7XG4gICAgICBjb25zdCBzdHlsZXMgPSB0aGlzLnN0eWxlcygpO1xuICAgICAgcmV0dXJuIHRoaXNbMF0ub2Zmc2V0SGVpZ2h0ICsgcGFyc2VGbG9hdChzdHlsZXMuZ2V0UHJvcGVydHlWYWx1ZSgnbWFyZ2luLXRvcCcpKSArIHBhcnNlRmxvYXQoc3R5bGVzLmdldFByb3BlcnR5VmFsdWUoJ21hcmdpbi1ib3R0b20nKSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXNbMF0ub2Zmc2V0SGVpZ2h0O1xuICB9XG5cbiAgcmV0dXJuIG51bGw7XG59XG5cbmZ1bmN0aW9uIG9mZnNldCgpIHtcbiAgaWYgKHRoaXMubGVuZ3RoID4gMCkge1xuICAgIGNvbnN0IHdpbmRvdyA9IGdldFdpbmRvdygpO1xuICAgIGNvbnN0IGRvY3VtZW50ID0gZ2V0RG9jdW1lbnQoKTtcbiAgICBjb25zdCBlbCA9IHRoaXNbMF07XG4gICAgY29uc3QgYm94ID0gZWwuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgY29uc3QgYm9keSA9IGRvY3VtZW50LmJvZHk7XG4gICAgY29uc3QgY2xpZW50VG9wID0gZWwuY2xpZW50VG9wIHx8IGJvZHkuY2xpZW50VG9wIHx8IDA7XG4gICAgY29uc3QgY2xpZW50TGVmdCA9IGVsLmNsaWVudExlZnQgfHwgYm9keS5jbGllbnRMZWZ0IHx8IDA7XG4gICAgY29uc3Qgc2Nyb2xsVG9wID0gZWwgPT09IHdpbmRvdyA/IHdpbmRvdy5zY3JvbGxZIDogZWwuc2Nyb2xsVG9wO1xuICAgIGNvbnN0IHNjcm9sbExlZnQgPSBlbCA9PT0gd2luZG93ID8gd2luZG93LnNjcm9sbFggOiBlbC5zY3JvbGxMZWZ0O1xuICAgIHJldHVybiB7XG4gICAgICB0b3A6IGJveC50b3AgKyBzY3JvbGxUb3AgLSBjbGllbnRUb3AsXG4gICAgICBsZWZ0OiBib3gubGVmdCArIHNjcm9sbExlZnQgLSBjbGllbnRMZWZ0XG4gICAgfTtcbiAgfVxuXG4gIHJldHVybiBudWxsO1xufVxuXG5mdW5jdGlvbiBoaWRlKCkge1xuICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMubGVuZ3RoOyBpICs9IDEpIHtcbiAgICB0aGlzW2ldLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gIH1cblxuICByZXR1cm4gdGhpcztcbn1cblxuZnVuY3Rpb24gc2hvdygpIHtcbiAgY29uc3Qgd2luZG93ID0gZ2V0V2luZG93KCk7XG5cbiAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgY29uc3QgZWwgPSB0aGlzW2ldO1xuXG4gICAgaWYgKGVsLnN0eWxlLmRpc3BsYXkgPT09ICdub25lJykge1xuICAgICAgZWwuc3R5bGUuZGlzcGxheSA9ICcnO1xuICAgIH1cblxuICAgIGlmICh3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShlbCwgbnVsbCkuZ2V0UHJvcGVydHlWYWx1ZSgnZGlzcGxheScpID09PSAnbm9uZScpIHtcbiAgICAgIC8vIFN0aWxsIG5vdCB2aXNpYmxlXG4gICAgICBlbC5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcbiAgICB9XG4gIH1cblxuICByZXR1cm4gdGhpcztcbn1cblxuZnVuY3Rpb24gc3R5bGVzKCkge1xuICBjb25zdCB3aW5kb3cgPSBnZXRXaW5kb3coKTtcbiAgaWYgKHRoaXNbMF0pIHJldHVybiB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZSh0aGlzWzBdLCBudWxsKTtcbiAgcmV0dXJuIHt9O1xufVxuXG5mdW5jdGlvbiBjc3MocHJvcHMsIHZhbHVlKSB7XG4gIGNvbnN0IHdpbmRvdyA9IGdldFdpbmRvdygpO1xuICBsZXQgaTtcblxuICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMSkge1xuICAgIGlmICh0eXBlb2YgcHJvcHMgPT09ICdzdHJpbmcnKSB7XG4gICAgICAvLyAuY3NzKCd3aWR0aCcpXG4gICAgICBpZiAodGhpc1swXSkgcmV0dXJuIHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKHRoaXNbMF0sIG51bGwpLmdldFByb3BlcnR5VmFsdWUocHJvcHMpO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyAuY3NzKHsgd2lkdGg6ICcxMDBweCcgfSlcbiAgICAgIGZvciAoaSA9IDA7IGkgPCB0aGlzLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgICAgIGZvciAoY29uc3QgcHJvcCBpbiBwcm9wcykge1xuICAgICAgICAgIHRoaXNbaV0uc3R5bGVbcHJvcF0gPSBwcm9wc1twcm9wXTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gIH1cblxuICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMiAmJiB0eXBlb2YgcHJvcHMgPT09ICdzdHJpbmcnKSB7XG4gICAgLy8gLmNzcygnd2lkdGgnLCAnMTAwcHgnKVxuICAgIGZvciAoaSA9IDA7IGkgPCB0aGlzLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgICB0aGlzW2ldLnN0eWxlW3Byb3BzXSA9IHZhbHVlO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgcmV0dXJuIHRoaXM7XG59XG5cbmZ1bmN0aW9uIGVhY2goY2FsbGJhY2spIHtcbiAgaWYgKCFjYWxsYmFjaykgcmV0dXJuIHRoaXM7XG4gIHRoaXMuZm9yRWFjaCgoZWwsIGluZGV4KSA9PiB7XG4gICAgY2FsbGJhY2suYXBwbHkoZWwsIFtlbCwgaW5kZXhdKTtcbiAgfSk7XG4gIHJldHVybiB0aGlzO1xufVxuXG5mdW5jdGlvbiBmaWx0ZXIoY2FsbGJhY2spIHtcbiAgY29uc3QgcmVzdWx0ID0gYXJyYXlGaWx0ZXIodGhpcywgY2FsbGJhY2spO1xuICByZXR1cm4gJChyZXN1bHQpO1xufVxuXG5mdW5jdGlvbiBodG1sKGh0bWwpIHtcbiAgaWYgKHR5cGVvZiBodG1sID09PSAndW5kZWZpbmVkJykge1xuICAgIHJldHVybiB0aGlzWzBdID8gdGhpc1swXS5pbm5lckhUTUwgOiBudWxsO1xuICB9XG5cbiAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgdGhpc1tpXS5pbm5lckhUTUwgPSBodG1sO1xuICB9XG5cbiAgcmV0dXJuIHRoaXM7XG59XG5cbmZ1bmN0aW9uIHRleHQodGV4dCkge1xuICBpZiAodHlwZW9mIHRleHQgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgcmV0dXJuIHRoaXNbMF0gPyB0aGlzWzBdLnRleHRDb250ZW50LnRyaW0oKSA6IG51bGw7XG4gIH1cblxuICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMubGVuZ3RoOyBpICs9IDEpIHtcbiAgICB0aGlzW2ldLnRleHRDb250ZW50ID0gdGV4dDtcbiAgfVxuXG4gIHJldHVybiB0aGlzO1xufVxuXG5mdW5jdGlvbiBpcyhzZWxlY3Rvcikge1xuICBjb25zdCB3aW5kb3cgPSBnZXRXaW5kb3coKTtcbiAgY29uc3QgZG9jdW1lbnQgPSBnZXREb2N1bWVudCgpO1xuICBjb25zdCBlbCA9IHRoaXNbMF07XG4gIGxldCBjb21wYXJlV2l0aDtcbiAgbGV0IGk7XG4gIGlmICghZWwgfHwgdHlwZW9mIHNlbGVjdG9yID09PSAndW5kZWZpbmVkJykgcmV0dXJuIGZhbHNlO1xuXG4gIGlmICh0eXBlb2Ygc2VsZWN0b3IgPT09ICdzdHJpbmcnKSB7XG4gICAgaWYgKGVsLm1hdGNoZXMpIHJldHVybiBlbC5tYXRjaGVzKHNlbGVjdG9yKTtcbiAgICBpZiAoZWwud2Via2l0TWF0Y2hlc1NlbGVjdG9yKSByZXR1cm4gZWwud2Via2l0TWF0Y2hlc1NlbGVjdG9yKHNlbGVjdG9yKTtcbiAgICBpZiAoZWwubXNNYXRjaGVzU2VsZWN0b3IpIHJldHVybiBlbC5tc01hdGNoZXNTZWxlY3RvcihzZWxlY3Rvcik7XG4gICAgY29tcGFyZVdpdGggPSAkKHNlbGVjdG9yKTtcblxuICAgIGZvciAoaSA9IDA7IGkgPCBjb21wYXJlV2l0aC5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgaWYgKGNvbXBhcmVXaXRoW2ldID09PSBlbCkgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgaWYgKHNlbGVjdG9yID09PSBkb2N1bWVudCkge1xuICAgIHJldHVybiBlbCA9PT0gZG9jdW1lbnQ7XG4gIH1cblxuICBpZiAoc2VsZWN0b3IgPT09IHdpbmRvdykge1xuICAgIHJldHVybiBlbCA9PT0gd2luZG93O1xuICB9XG5cbiAgaWYgKHNlbGVjdG9yLm5vZGVUeXBlIHx8IHNlbGVjdG9yIGluc3RhbmNlb2YgRG9tNykge1xuICAgIGNvbXBhcmVXaXRoID0gc2VsZWN0b3Iubm9kZVR5cGUgPyBbc2VsZWN0b3JdIDogc2VsZWN0b3I7XG5cbiAgICBmb3IgKGkgPSAwOyBpIDwgY29tcGFyZVdpdGgubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgIGlmIChjb21wYXJlV2l0aFtpXSA9PT0gZWwpIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIHJldHVybiBmYWxzZTtcbn1cblxuZnVuY3Rpb24gaW5kZXgoKSB7XG4gIGxldCBjaGlsZCA9IHRoaXNbMF07XG4gIGxldCBpO1xuXG4gIGlmIChjaGlsZCkge1xuICAgIGkgPSAwOyAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmVcblxuICAgIHdoaWxlICgoY2hpbGQgPSBjaGlsZC5wcmV2aW91c1NpYmxpbmcpICE9PSBudWxsKSB7XG4gICAgICBpZiAoY2hpbGQubm9kZVR5cGUgPT09IDEpIGkgKz0gMTtcbiAgICB9XG5cbiAgICByZXR1cm4gaTtcbiAgfVxuXG4gIHJldHVybiB1bmRlZmluZWQ7XG59XG5cbmZ1bmN0aW9uIGVxKGluZGV4KSB7XG4gIGlmICh0eXBlb2YgaW5kZXggPT09ICd1bmRlZmluZWQnKSByZXR1cm4gdGhpcztcbiAgY29uc3QgbGVuZ3RoID0gdGhpcy5sZW5ndGg7XG5cbiAgaWYgKGluZGV4ID4gbGVuZ3RoIC0gMSkge1xuICAgIHJldHVybiAkKFtdKTtcbiAgfVxuXG4gIGlmIChpbmRleCA8IDApIHtcbiAgICBjb25zdCByZXR1cm5JbmRleCA9IGxlbmd0aCArIGluZGV4O1xuICAgIGlmIChyZXR1cm5JbmRleCA8IDApIHJldHVybiAkKFtdKTtcbiAgICByZXR1cm4gJChbdGhpc1tyZXR1cm5JbmRleF1dKTtcbiAgfVxuXG4gIHJldHVybiAkKFt0aGlzW2luZGV4XV0pO1xufVxuXG5mdW5jdGlvbiBhcHBlbmQoLi4uZWxzKSB7XG4gIGxldCBuZXdDaGlsZDtcbiAgY29uc3QgZG9jdW1lbnQgPSBnZXREb2N1bWVudCgpO1xuXG4gIGZvciAobGV0IGsgPSAwOyBrIDwgZWxzLmxlbmd0aDsgayArPSAxKSB7XG4gICAgbmV3Q2hpbGQgPSBlbHNba107XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgIGlmICh0eXBlb2YgbmV3Q2hpbGQgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIGNvbnN0IHRlbXBEaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgdGVtcERpdi5pbm5lckhUTUwgPSBuZXdDaGlsZDtcblxuICAgICAgICB3aGlsZSAodGVtcERpdi5maXJzdENoaWxkKSB7XG4gICAgICAgICAgdGhpc1tpXS5hcHBlbmRDaGlsZCh0ZW1wRGl2LmZpcnN0Q2hpbGQpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKG5ld0NoaWxkIGluc3RhbmNlb2YgRG9tNykge1xuICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IG5ld0NoaWxkLmxlbmd0aDsgaiArPSAxKSB7XG4gICAgICAgICAgdGhpc1tpXS5hcHBlbmRDaGlsZChuZXdDaGlsZFtqXSk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXNbaV0uYXBwZW5kQ2hpbGQobmV3Q2hpbGQpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiB0aGlzO1xufVxuXG5mdW5jdGlvbiBhcHBlbmRUbyhwYXJlbnQpIHtcbiAgJChwYXJlbnQpLmFwcGVuZCh0aGlzKTtcbiAgcmV0dXJuIHRoaXM7XG59XG5cbmZ1bmN0aW9uIHByZXBlbmQobmV3Q2hpbGQpIHtcbiAgY29uc3QgZG9jdW1lbnQgPSBnZXREb2N1bWVudCgpO1xuICBsZXQgaTtcbiAgbGV0IGo7XG5cbiAgZm9yIChpID0gMDsgaSA8IHRoaXMubGVuZ3RoOyBpICs9IDEpIHtcbiAgICBpZiAodHlwZW9mIG5ld0NoaWxkID09PSAnc3RyaW5nJykge1xuICAgICAgY29uc3QgdGVtcERpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgdGVtcERpdi5pbm5lckhUTUwgPSBuZXdDaGlsZDtcblxuICAgICAgZm9yIChqID0gdGVtcERpdi5jaGlsZE5vZGVzLmxlbmd0aCAtIDE7IGogPj0gMDsgaiAtPSAxKSB7XG4gICAgICAgIHRoaXNbaV0uaW5zZXJ0QmVmb3JlKHRlbXBEaXYuY2hpbGROb2Rlc1tqXSwgdGhpc1tpXS5jaGlsZE5vZGVzWzBdKTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKG5ld0NoaWxkIGluc3RhbmNlb2YgRG9tNykge1xuICAgICAgZm9yIChqID0gMDsgaiA8IG5ld0NoaWxkLmxlbmd0aDsgaiArPSAxKSB7XG4gICAgICAgIHRoaXNbaV0uaW5zZXJ0QmVmb3JlKG5ld0NoaWxkW2pdLCB0aGlzW2ldLmNoaWxkTm9kZXNbMF0pO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzW2ldLmluc2VydEJlZm9yZShuZXdDaGlsZCwgdGhpc1tpXS5jaGlsZE5vZGVzWzBdKTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gdGhpcztcbn1cblxuZnVuY3Rpb24gcHJlcGVuZFRvKHBhcmVudCkge1xuICAkKHBhcmVudCkucHJlcGVuZCh0aGlzKTtcbiAgcmV0dXJuIHRoaXM7XG59XG5cbmZ1bmN0aW9uIGluc2VydEJlZm9yZShzZWxlY3Rvcikge1xuICBjb25zdCBiZWZvcmUgPSAkKHNlbGVjdG9yKTtcblxuICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMubGVuZ3RoOyBpICs9IDEpIHtcbiAgICBpZiAoYmVmb3JlLmxlbmd0aCA9PT0gMSkge1xuICAgICAgYmVmb3JlWzBdLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKHRoaXNbaV0sIGJlZm9yZVswXSk7XG4gICAgfSBlbHNlIGlmIChiZWZvcmUubGVuZ3RoID4gMSkge1xuICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBiZWZvcmUubGVuZ3RoOyBqICs9IDEpIHtcbiAgICAgICAgYmVmb3JlW2pdLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKHRoaXNbaV0uY2xvbmVOb2RlKHRydWUpLCBiZWZvcmVbal0pO1xuICAgICAgfVxuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiBpbnNlcnRBZnRlcihzZWxlY3Rvcikge1xuICBjb25zdCBhZnRlciA9ICQoc2VsZWN0b3IpO1xuXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5sZW5ndGg7IGkgKz0gMSkge1xuICAgIGlmIChhZnRlci5sZW5ndGggPT09IDEpIHtcbiAgICAgIGFmdGVyWzBdLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKHRoaXNbaV0sIGFmdGVyWzBdLm5leHRTaWJsaW5nKTtcbiAgICB9IGVsc2UgaWYgKGFmdGVyLmxlbmd0aCA+IDEpIHtcbiAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgYWZ0ZXIubGVuZ3RoOyBqICs9IDEpIHtcbiAgICAgICAgYWZ0ZXJbal0ucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUodGhpc1tpXS5jbG9uZU5vZGUodHJ1ZSksIGFmdGVyW2pdLm5leHRTaWJsaW5nKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gbmV4dChzZWxlY3Rvcikge1xuICBpZiAodGhpcy5sZW5ndGggPiAwKSB7XG4gICAgaWYgKHNlbGVjdG9yKSB7XG4gICAgICBpZiAodGhpc1swXS5uZXh0RWxlbWVudFNpYmxpbmcgJiYgJCh0aGlzWzBdLm5leHRFbGVtZW50U2libGluZykuaXMoc2VsZWN0b3IpKSB7XG4gICAgICAgIHJldHVybiAkKFt0aGlzWzBdLm5leHRFbGVtZW50U2libGluZ10pO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gJChbXSk7XG4gICAgfVxuXG4gICAgaWYgKHRoaXNbMF0ubmV4dEVsZW1lbnRTaWJsaW5nKSByZXR1cm4gJChbdGhpc1swXS5uZXh0RWxlbWVudFNpYmxpbmddKTtcbiAgICByZXR1cm4gJChbXSk7XG4gIH1cblxuICByZXR1cm4gJChbXSk7XG59XG5cbmZ1bmN0aW9uIG5leHRBbGwoc2VsZWN0b3IpIHtcbiAgY29uc3QgbmV4dEVscyA9IFtdO1xuICBsZXQgZWwgPSB0aGlzWzBdO1xuICBpZiAoIWVsKSByZXR1cm4gJChbXSk7XG5cbiAgd2hpbGUgKGVsLm5leHRFbGVtZW50U2libGluZykge1xuICAgIGNvbnN0IG5leHQgPSBlbC5uZXh0RWxlbWVudFNpYmxpbmc7IC8vIGVzbGludC1kaXNhYmxlLWxpbmVcblxuICAgIGlmIChzZWxlY3Rvcikge1xuICAgICAgaWYgKCQobmV4dCkuaXMoc2VsZWN0b3IpKSBuZXh0RWxzLnB1c2gobmV4dCk7XG4gICAgfSBlbHNlIG5leHRFbHMucHVzaChuZXh0KTtcblxuICAgIGVsID0gbmV4dDtcbiAgfVxuXG4gIHJldHVybiAkKG5leHRFbHMpO1xufVxuXG5mdW5jdGlvbiBwcmV2KHNlbGVjdG9yKSB7XG4gIGlmICh0aGlzLmxlbmd0aCA+IDApIHtcbiAgICBjb25zdCBlbCA9IHRoaXNbMF07XG5cbiAgICBpZiAoc2VsZWN0b3IpIHtcbiAgICAgIGlmIChlbC5wcmV2aW91c0VsZW1lbnRTaWJsaW5nICYmICQoZWwucHJldmlvdXNFbGVtZW50U2libGluZykuaXMoc2VsZWN0b3IpKSB7XG4gICAgICAgIHJldHVybiAkKFtlbC5wcmV2aW91c0VsZW1lbnRTaWJsaW5nXSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiAkKFtdKTtcbiAgICB9XG5cbiAgICBpZiAoZWwucHJldmlvdXNFbGVtZW50U2libGluZykgcmV0dXJuICQoW2VsLnByZXZpb3VzRWxlbWVudFNpYmxpbmddKTtcbiAgICByZXR1cm4gJChbXSk7XG4gIH1cblxuICByZXR1cm4gJChbXSk7XG59XG5cbmZ1bmN0aW9uIHByZXZBbGwoc2VsZWN0b3IpIHtcbiAgY29uc3QgcHJldkVscyA9IFtdO1xuICBsZXQgZWwgPSB0aGlzWzBdO1xuICBpZiAoIWVsKSByZXR1cm4gJChbXSk7XG5cbiAgd2hpbGUgKGVsLnByZXZpb3VzRWxlbWVudFNpYmxpbmcpIHtcbiAgICBjb25zdCBwcmV2ID0gZWwucHJldmlvdXNFbGVtZW50U2libGluZzsgLy8gZXNsaW50LWRpc2FibGUtbGluZVxuXG4gICAgaWYgKHNlbGVjdG9yKSB7XG4gICAgICBpZiAoJChwcmV2KS5pcyhzZWxlY3RvcikpIHByZXZFbHMucHVzaChwcmV2KTtcbiAgICB9IGVsc2UgcHJldkVscy5wdXNoKHByZXYpO1xuXG4gICAgZWwgPSBwcmV2O1xuICB9XG5cbiAgcmV0dXJuICQocHJldkVscyk7XG59XG5cbmZ1bmN0aW9uIHNpYmxpbmdzKHNlbGVjdG9yKSB7XG4gIHJldHVybiB0aGlzLm5leHRBbGwoc2VsZWN0b3IpLmFkZCh0aGlzLnByZXZBbGwoc2VsZWN0b3IpKTtcbn1cblxuZnVuY3Rpb24gcGFyZW50KHNlbGVjdG9yKSB7XG4gIGNvbnN0IHBhcmVudHMgPSBbXTsgLy8gZXNsaW50LWRpc2FibGUtbGluZVxuXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5sZW5ndGg7IGkgKz0gMSkge1xuICAgIGlmICh0aGlzW2ldLnBhcmVudE5vZGUgIT09IG51bGwpIHtcbiAgICAgIGlmIChzZWxlY3Rvcikge1xuICAgICAgICBpZiAoJCh0aGlzW2ldLnBhcmVudE5vZGUpLmlzKHNlbGVjdG9yKSkgcGFyZW50cy5wdXNoKHRoaXNbaV0ucGFyZW50Tm9kZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwYXJlbnRzLnB1c2godGhpc1tpXS5wYXJlbnROb2RlKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICByZXR1cm4gJChwYXJlbnRzKTtcbn1cblxuZnVuY3Rpb24gcGFyZW50cyhzZWxlY3Rvcikge1xuICBjb25zdCBwYXJlbnRzID0gW107IC8vIGVzbGludC1kaXNhYmxlLWxpbmVcblxuICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMubGVuZ3RoOyBpICs9IDEpIHtcbiAgICBsZXQgcGFyZW50ID0gdGhpc1tpXS5wYXJlbnROb2RlOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lXG5cbiAgICB3aGlsZSAocGFyZW50KSB7XG4gICAgICBpZiAoc2VsZWN0b3IpIHtcbiAgICAgICAgaWYgKCQocGFyZW50KS5pcyhzZWxlY3RvcikpIHBhcmVudHMucHVzaChwYXJlbnQpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcGFyZW50cy5wdXNoKHBhcmVudCk7XG4gICAgICB9XG5cbiAgICAgIHBhcmVudCA9IHBhcmVudC5wYXJlbnROb2RlO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiAkKHBhcmVudHMpO1xufVxuXG5mdW5jdGlvbiBjbG9zZXN0KHNlbGVjdG9yKSB7XG4gIGxldCBjbG9zZXN0ID0gdGhpczsgLy8gZXNsaW50LWRpc2FibGUtbGluZVxuXG4gIGlmICh0eXBlb2Ygc2VsZWN0b3IgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgcmV0dXJuICQoW10pO1xuICB9XG5cbiAgaWYgKCFjbG9zZXN0LmlzKHNlbGVjdG9yKSkge1xuICAgIGNsb3Nlc3QgPSBjbG9zZXN0LnBhcmVudHMoc2VsZWN0b3IpLmVxKDApO1xuICB9XG5cbiAgcmV0dXJuIGNsb3Nlc3Q7XG59XG5cbmZ1bmN0aW9uIGZpbmQoc2VsZWN0b3IpIHtcbiAgY29uc3QgZm91bmRFbGVtZW50cyA9IFtdO1xuXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5sZW5ndGg7IGkgKz0gMSkge1xuICAgIGNvbnN0IGZvdW5kID0gdGhpc1tpXS5xdWVyeVNlbGVjdG9yQWxsKHNlbGVjdG9yKTtcblxuICAgIGZvciAobGV0IGogPSAwOyBqIDwgZm91bmQubGVuZ3RoOyBqICs9IDEpIHtcbiAgICAgIGZvdW5kRWxlbWVudHMucHVzaChmb3VuZFtqXSk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuICQoZm91bmRFbGVtZW50cyk7XG59XG5cbmZ1bmN0aW9uIGNoaWxkcmVuKHNlbGVjdG9yKSB7XG4gIGNvbnN0IGNoaWxkcmVuID0gW107IC8vIGVzbGludC1kaXNhYmxlLWxpbmVcblxuICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMubGVuZ3RoOyBpICs9IDEpIHtcbiAgICBjb25zdCBjaGlsZE5vZGVzID0gdGhpc1tpXS5jaGlsZHJlbjtcblxuICAgIGZvciAobGV0IGogPSAwOyBqIDwgY2hpbGROb2Rlcy5sZW5ndGg7IGogKz0gMSkge1xuICAgICAgaWYgKCFzZWxlY3RvciB8fCAkKGNoaWxkTm9kZXNbal0pLmlzKHNlbGVjdG9yKSkge1xuICAgICAgICBjaGlsZHJlbi5wdXNoKGNoaWxkTm9kZXNbal0pO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiAkKGNoaWxkcmVuKTtcbn1cblxuZnVuY3Rpb24gcmVtb3ZlKCkge1xuICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMubGVuZ3RoOyBpICs9IDEpIHtcbiAgICBpZiAodGhpc1tpXS5wYXJlbnROb2RlKSB0aGlzW2ldLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodGhpc1tpXSk7XG4gIH1cblxuICByZXR1cm4gdGhpcztcbn1cblxuZnVuY3Rpb24gZGV0YWNoKCkge1xuICByZXR1cm4gdGhpcy5yZW1vdmUoKTtcbn1cblxuZnVuY3Rpb24gYWRkKC4uLmVscykge1xuICBjb25zdCBkb20gPSB0aGlzO1xuICBsZXQgaTtcbiAgbGV0IGo7XG5cbiAgZm9yIChpID0gMDsgaSA8IGVscy5sZW5ndGg7IGkgKz0gMSkge1xuICAgIGNvbnN0IHRvQWRkID0gJChlbHNbaV0pO1xuXG4gICAgZm9yIChqID0gMDsgaiA8IHRvQWRkLmxlbmd0aDsgaiArPSAxKSB7XG4gICAgICBkb20ucHVzaCh0b0FkZFtqXSk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGRvbTtcbn1cblxuZnVuY3Rpb24gZW1wdHkoKSB7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5sZW5ndGg7IGkgKz0gMSkge1xuICAgIGNvbnN0IGVsID0gdGhpc1tpXTtcblxuICAgIGlmIChlbC5ub2RlVHlwZSA9PT0gMSkge1xuICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBlbC5jaGlsZE5vZGVzLmxlbmd0aDsgaiArPSAxKSB7XG4gICAgICAgIGlmIChlbC5jaGlsZE5vZGVzW2pdLnBhcmVudE5vZGUpIHtcbiAgICAgICAgICBlbC5jaGlsZE5vZGVzW2pdLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoZWwuY2hpbGROb2Rlc1tqXSk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgZWwudGV4dENvbnRlbnQgPSAnJztcbiAgICB9XG4gIH1cblxuICByZXR1cm4gdGhpcztcbn1cblxuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lXG5cbmZ1bmN0aW9uIHNjcm9sbFRvKC4uLmFyZ3MpIHtcbiAgY29uc3Qgd2luZG93ID0gZ2V0V2luZG93KCk7XG4gIGxldCBbbGVmdCwgdG9wLCBkdXJhdGlvbiwgZWFzaW5nLCBjYWxsYmFja10gPSBhcmdzO1xuXG4gIGlmIChhcmdzLmxlbmd0aCA9PT0gNCAmJiB0eXBlb2YgZWFzaW5nID09PSAnZnVuY3Rpb24nKSB7XG4gICAgY2FsbGJhY2sgPSBlYXNpbmc7XG4gICAgW2xlZnQsIHRvcCwgZHVyYXRpb24sIGNhbGxiYWNrLCBlYXNpbmddID0gYXJncztcbiAgfVxuXG4gIGlmICh0eXBlb2YgZWFzaW5nID09PSAndW5kZWZpbmVkJykgZWFzaW5nID0gJ3N3aW5nJztcbiAgcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbiBhbmltYXRlKCkge1xuICAgIGNvbnN0IGVsID0gdGhpcztcbiAgICBsZXQgY3VycmVudFRvcDtcbiAgICBsZXQgY3VycmVudExlZnQ7XG4gICAgbGV0IG1heFRvcDtcbiAgICBsZXQgbWF4TGVmdDtcbiAgICBsZXQgbmV3VG9wO1xuICAgIGxldCBuZXdMZWZ0O1xuICAgIGxldCBzY3JvbGxUb3A7IC8vIGVzbGludC1kaXNhYmxlLWxpbmVcblxuICAgIGxldCBzY3JvbGxMZWZ0OyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lXG5cbiAgICBsZXQgYW5pbWF0ZVRvcCA9IHRvcCA+IDAgfHwgdG9wID09PSAwO1xuICAgIGxldCBhbmltYXRlTGVmdCA9IGxlZnQgPiAwIHx8IGxlZnQgPT09IDA7XG5cbiAgICBpZiAodHlwZW9mIGVhc2luZyA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIGVhc2luZyA9ICdzd2luZyc7XG4gICAgfVxuXG4gICAgaWYgKGFuaW1hdGVUb3ApIHtcbiAgICAgIGN1cnJlbnRUb3AgPSBlbC5zY3JvbGxUb3A7XG5cbiAgICAgIGlmICghZHVyYXRpb24pIHtcbiAgICAgICAgZWwuc2Nyb2xsVG9wID0gdG9wO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChhbmltYXRlTGVmdCkge1xuICAgICAgY3VycmVudExlZnQgPSBlbC5zY3JvbGxMZWZ0O1xuXG4gICAgICBpZiAoIWR1cmF0aW9uKSB7XG4gICAgICAgIGVsLnNjcm9sbExlZnQgPSBsZWZ0O1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmICghZHVyYXRpb24pIHJldHVybjtcblxuICAgIGlmIChhbmltYXRlVG9wKSB7XG4gICAgICBtYXhUb3AgPSBlbC5zY3JvbGxIZWlnaHQgLSBlbC5vZmZzZXRIZWlnaHQ7XG4gICAgICBuZXdUb3AgPSBNYXRoLm1heChNYXRoLm1pbih0b3AsIG1heFRvcCksIDApO1xuICAgIH1cblxuICAgIGlmIChhbmltYXRlTGVmdCkge1xuICAgICAgbWF4TGVmdCA9IGVsLnNjcm9sbFdpZHRoIC0gZWwub2Zmc2V0V2lkdGg7XG4gICAgICBuZXdMZWZ0ID0gTWF0aC5tYXgoTWF0aC5taW4obGVmdCwgbWF4TGVmdCksIDApO1xuICAgIH1cblxuICAgIGxldCBzdGFydFRpbWUgPSBudWxsO1xuICAgIGlmIChhbmltYXRlVG9wICYmIG5ld1RvcCA9PT0gY3VycmVudFRvcCkgYW5pbWF0ZVRvcCA9IGZhbHNlO1xuICAgIGlmIChhbmltYXRlTGVmdCAmJiBuZXdMZWZ0ID09PSBjdXJyZW50TGVmdCkgYW5pbWF0ZUxlZnQgPSBmYWxzZTtcblxuICAgIGZ1bmN0aW9uIHJlbmRlcih0aW1lID0gbmV3IERhdGUoKS5nZXRUaW1lKCkpIHtcbiAgICAgIGlmIChzdGFydFRpbWUgPT09IG51bGwpIHtcbiAgICAgICAgc3RhcnRUaW1lID0gdGltZTtcbiAgICAgIH1cblxuICAgICAgY29uc3QgcHJvZ3Jlc3MgPSBNYXRoLm1heChNYXRoLm1pbigodGltZSAtIHN0YXJ0VGltZSkgLyBkdXJhdGlvbiwgMSksIDApO1xuICAgICAgY29uc3QgZWFzZVByb2dyZXNzID0gZWFzaW5nID09PSAnbGluZWFyJyA/IHByb2dyZXNzIDogMC41IC0gTWF0aC5jb3MocHJvZ3Jlc3MgKiBNYXRoLlBJKSAvIDI7XG4gICAgICBsZXQgZG9uZTtcbiAgICAgIGlmIChhbmltYXRlVG9wKSBzY3JvbGxUb3AgPSBjdXJyZW50VG9wICsgZWFzZVByb2dyZXNzICogKG5ld1RvcCAtIGN1cnJlbnRUb3ApO1xuICAgICAgaWYgKGFuaW1hdGVMZWZ0KSBzY3JvbGxMZWZ0ID0gY3VycmVudExlZnQgKyBlYXNlUHJvZ3Jlc3MgKiAobmV3TGVmdCAtIGN1cnJlbnRMZWZ0KTtcblxuICAgICAgaWYgKGFuaW1hdGVUb3AgJiYgbmV3VG9wID4gY3VycmVudFRvcCAmJiBzY3JvbGxUb3AgPj0gbmV3VG9wKSB7XG4gICAgICAgIGVsLnNjcm9sbFRvcCA9IG5ld1RvcDtcbiAgICAgICAgZG9uZSA9IHRydWU7XG4gICAgICB9XG5cbiAgICAgIGlmIChhbmltYXRlVG9wICYmIG5ld1RvcCA8IGN1cnJlbnRUb3AgJiYgc2Nyb2xsVG9wIDw9IG5ld1RvcCkge1xuICAgICAgICBlbC5zY3JvbGxUb3AgPSBuZXdUb3A7XG4gICAgICAgIGRvbmUgPSB0cnVlO1xuICAgICAgfVxuXG4gICAgICBpZiAoYW5pbWF0ZUxlZnQgJiYgbmV3TGVmdCA+IGN1cnJlbnRMZWZ0ICYmIHNjcm9sbExlZnQgPj0gbmV3TGVmdCkge1xuICAgICAgICBlbC5zY3JvbGxMZWZ0ID0gbmV3TGVmdDtcbiAgICAgICAgZG9uZSA9IHRydWU7XG4gICAgICB9XG5cbiAgICAgIGlmIChhbmltYXRlTGVmdCAmJiBuZXdMZWZ0IDwgY3VycmVudExlZnQgJiYgc2Nyb2xsTGVmdCA8PSBuZXdMZWZ0KSB7XG4gICAgICAgIGVsLnNjcm9sbExlZnQgPSBuZXdMZWZ0O1xuICAgICAgICBkb25lID0gdHJ1ZTtcbiAgICAgIH1cblxuICAgICAgaWYgKGRvbmUpIHtcbiAgICAgICAgaWYgKGNhbGxiYWNrKSBjYWxsYmFjaygpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGlmIChhbmltYXRlVG9wKSBlbC5zY3JvbGxUb3AgPSBzY3JvbGxUb3A7XG4gICAgICBpZiAoYW5pbWF0ZUxlZnQpIGVsLnNjcm9sbExlZnQgPSBzY3JvbGxMZWZ0O1xuICAgICAgd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZShyZW5kZXIpO1xuICAgIH1cblxuICAgIHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUocmVuZGVyKTtcbiAgfSk7XG59IC8vIHNjcm9sbFRvcCh0b3AsIGR1cmF0aW9uLCBlYXNpbmcsIGNhbGxiYWNrKSB7XG5cblxuZnVuY3Rpb24gc2Nyb2xsVG9wKC4uLmFyZ3MpIHtcbiAgbGV0IFt0b3AsIGR1cmF0aW9uLCBlYXNpbmcsIGNhbGxiYWNrXSA9IGFyZ3M7XG5cbiAgaWYgKGFyZ3MubGVuZ3RoID09PSAzICYmIHR5cGVvZiBlYXNpbmcgPT09ICdmdW5jdGlvbicpIHtcbiAgICBbdG9wLCBkdXJhdGlvbiwgY2FsbGJhY2ssIGVhc2luZ10gPSBhcmdzO1xuICB9XG5cbiAgY29uc3QgZG9tID0gdGhpcztcblxuICBpZiAodHlwZW9mIHRvcCA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICBpZiAoZG9tLmxlbmd0aCA+IDApIHJldHVybiBkb21bMF0uc2Nyb2xsVG9wO1xuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgcmV0dXJuIGRvbS5zY3JvbGxUbyh1bmRlZmluZWQsIHRvcCwgZHVyYXRpb24sIGVhc2luZywgY2FsbGJhY2spO1xufVxuXG5mdW5jdGlvbiBzY3JvbGxMZWZ0KC4uLmFyZ3MpIHtcbiAgbGV0IFtsZWZ0LCBkdXJhdGlvbiwgZWFzaW5nLCBjYWxsYmFja10gPSBhcmdzO1xuXG4gIGlmIChhcmdzLmxlbmd0aCA9PT0gMyAmJiB0eXBlb2YgZWFzaW5nID09PSAnZnVuY3Rpb24nKSB7XG4gICAgW2xlZnQsIGR1cmF0aW9uLCBjYWxsYmFjaywgZWFzaW5nXSA9IGFyZ3M7XG4gIH1cblxuICBjb25zdCBkb20gPSB0aGlzO1xuXG4gIGlmICh0eXBlb2YgbGVmdCA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICBpZiAoZG9tLmxlbmd0aCA+IDApIHJldHVybiBkb21bMF0uc2Nyb2xsTGVmdDtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIHJldHVybiBkb20uc2Nyb2xsVG8obGVmdCwgdW5kZWZpbmVkLCBkdXJhdGlvbiwgZWFzaW5nLCBjYWxsYmFjayk7XG59XG5cbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZVxuXG5mdW5jdGlvbiBhbmltYXRlKGluaXRpYWxQcm9wcywgaW5pdGlhbFBhcmFtcykge1xuICBjb25zdCB3aW5kb3cgPSBnZXRXaW5kb3coKTtcbiAgY29uc3QgZWxzID0gdGhpcztcbiAgY29uc3QgYSA9IHtcbiAgICBwcm9wczogT2JqZWN0LmFzc2lnbih7fSwgaW5pdGlhbFByb3BzKSxcbiAgICBwYXJhbXM6IE9iamVjdC5hc3NpZ24oe1xuICAgICAgZHVyYXRpb246IDMwMCxcbiAgICAgIGVhc2luZzogJ3N3aW5nJyAvLyBvciAnbGluZWFyJ1xuXG4gICAgICAvKiBDYWxsYmFja3NcbiAgICAgIGJlZ2luKGVsZW1lbnRzKVxuICAgICAgY29tcGxldGUoZWxlbWVudHMpXG4gICAgICBwcm9ncmVzcyhlbGVtZW50cywgY29tcGxldGUsIHJlbWFpbmluZywgc3RhcnQsIHR3ZWVuVmFsdWUpXG4gICAgICAqL1xuXG4gICAgfSwgaW5pdGlhbFBhcmFtcyksXG4gICAgZWxlbWVudHM6IGVscyxcbiAgICBhbmltYXRpbmc6IGZhbHNlLFxuICAgIHF1ZTogW10sXG5cbiAgICBlYXNpbmdQcm9ncmVzcyhlYXNpbmcsIHByb2dyZXNzKSB7XG4gICAgICBpZiAoZWFzaW5nID09PSAnc3dpbmcnKSB7XG4gICAgICAgIHJldHVybiAwLjUgLSBNYXRoLmNvcyhwcm9ncmVzcyAqIE1hdGguUEkpIC8gMjtcbiAgICAgIH1cblxuICAgICAgaWYgKHR5cGVvZiBlYXNpbmcgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgcmV0dXJuIGVhc2luZyhwcm9ncmVzcyk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBwcm9ncmVzcztcbiAgICB9LFxuXG4gICAgc3RvcCgpIHtcbiAgICAgIGlmIChhLmZyYW1lSWQpIHtcbiAgICAgICAgd2luZG93LmNhbmNlbEFuaW1hdGlvbkZyYW1lKGEuZnJhbWVJZCk7XG4gICAgICB9XG5cbiAgICAgIGEuYW5pbWF0aW5nID0gZmFsc2U7XG4gICAgICBhLmVsZW1lbnRzLmVhY2goZWwgPT4ge1xuICAgICAgICBjb25zdCBlbGVtZW50ID0gZWw7XG4gICAgICAgIGRlbGV0ZSBlbGVtZW50LmRvbTdBbmltYXRlSW5zdGFuY2U7XG4gICAgICB9KTtcbiAgICAgIGEucXVlID0gW107XG4gICAgfSxcblxuICAgIGRvbmUoY29tcGxldGUpIHtcbiAgICAgIGEuYW5pbWF0aW5nID0gZmFsc2U7XG4gICAgICBhLmVsZW1lbnRzLmVhY2goZWwgPT4ge1xuICAgICAgICBjb25zdCBlbGVtZW50ID0gZWw7XG4gICAgICAgIGRlbGV0ZSBlbGVtZW50LmRvbTdBbmltYXRlSW5zdGFuY2U7XG4gICAgICB9KTtcbiAgICAgIGlmIChjb21wbGV0ZSkgY29tcGxldGUoZWxzKTtcblxuICAgICAgaWYgKGEucXVlLmxlbmd0aCA+IDApIHtcbiAgICAgICAgY29uc3QgcXVlID0gYS5xdWUuc2hpZnQoKTtcbiAgICAgICAgYS5hbmltYXRlKHF1ZVswXSwgcXVlWzFdKTtcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgYW5pbWF0ZShwcm9wcywgcGFyYW1zKSB7XG4gICAgICBpZiAoYS5hbmltYXRpbmcpIHtcbiAgICAgICAgYS5xdWUucHVzaChbcHJvcHMsIHBhcmFtc10pO1xuICAgICAgICByZXR1cm4gYTtcbiAgICAgIH1cblxuICAgICAgY29uc3QgZWxlbWVudHMgPSBbXTsgLy8gRGVmaW5lICYgQ2FjaGUgSW5pdGlhbHMgJiBVbml0c1xuXG4gICAgICBhLmVsZW1lbnRzLmVhY2goKGVsLCBpbmRleCkgPT4ge1xuICAgICAgICBsZXQgaW5pdGlhbEZ1bGxWYWx1ZTtcbiAgICAgICAgbGV0IGluaXRpYWxWYWx1ZTtcbiAgICAgICAgbGV0IHVuaXQ7XG4gICAgICAgIGxldCBmaW5hbFZhbHVlO1xuICAgICAgICBsZXQgZmluYWxGdWxsVmFsdWU7XG4gICAgICAgIGlmICghZWwuZG9tN0FuaW1hdGVJbnN0YW5jZSkgYS5lbGVtZW50c1tpbmRleF0uZG9tN0FuaW1hdGVJbnN0YW5jZSA9IGE7XG4gICAgICAgIGVsZW1lbnRzW2luZGV4XSA9IHtcbiAgICAgICAgICBjb250YWluZXI6IGVsXG4gICAgICAgIH07XG4gICAgICAgIE9iamVjdC5rZXlzKHByb3BzKS5mb3JFYWNoKHByb3AgPT4ge1xuICAgICAgICAgIGluaXRpYWxGdWxsVmFsdWUgPSB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShlbCwgbnVsbCkuZ2V0UHJvcGVydHlWYWx1ZShwcm9wKS5yZXBsYWNlKCcsJywgJy4nKTtcbiAgICAgICAgICBpbml0aWFsVmFsdWUgPSBwYXJzZUZsb2F0KGluaXRpYWxGdWxsVmFsdWUpO1xuICAgICAgICAgIHVuaXQgPSBpbml0aWFsRnVsbFZhbHVlLnJlcGxhY2UoaW5pdGlhbFZhbHVlLCAnJyk7XG4gICAgICAgICAgZmluYWxWYWx1ZSA9IHBhcnNlRmxvYXQocHJvcHNbcHJvcF0pO1xuICAgICAgICAgIGZpbmFsRnVsbFZhbHVlID0gcHJvcHNbcHJvcF0gKyB1bml0O1xuICAgICAgICAgIGVsZW1lbnRzW2luZGV4XVtwcm9wXSA9IHtcbiAgICAgICAgICAgIGluaXRpYWxGdWxsVmFsdWUsXG4gICAgICAgICAgICBpbml0aWFsVmFsdWUsXG4gICAgICAgICAgICB1bml0LFxuICAgICAgICAgICAgZmluYWxWYWx1ZSxcbiAgICAgICAgICAgIGZpbmFsRnVsbFZhbHVlLFxuICAgICAgICAgICAgY3VycmVudFZhbHVlOiBpbml0aWFsVmFsdWVcbiAgICAgICAgICB9O1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgICAgbGV0IHN0YXJ0VGltZSA9IG51bGw7XG4gICAgICBsZXQgdGltZTtcbiAgICAgIGxldCBlbGVtZW50c0RvbmUgPSAwO1xuICAgICAgbGV0IHByb3BzRG9uZSA9IDA7XG4gICAgICBsZXQgZG9uZTtcbiAgICAgIGxldCBiZWdhbiA9IGZhbHNlO1xuICAgICAgYS5hbmltYXRpbmcgPSB0cnVlO1xuXG4gICAgICBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgICAgIHRpbWUgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKTtcbiAgICAgICAgbGV0IHByb2dyZXNzO1xuICAgICAgICBsZXQgZWFzZVByb2dyZXNzOyAvLyBsZXQgZWw7XG5cbiAgICAgICAgaWYgKCFiZWdhbikge1xuICAgICAgICAgIGJlZ2FuID0gdHJ1ZTtcbiAgICAgICAgICBpZiAocGFyYW1zLmJlZ2luKSBwYXJhbXMuYmVnaW4oZWxzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChzdGFydFRpbWUgPT09IG51bGwpIHtcbiAgICAgICAgICBzdGFydFRpbWUgPSB0aW1lO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHBhcmFtcy5wcm9ncmVzcykge1xuICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZVxuICAgICAgICAgIHBhcmFtcy5wcm9ncmVzcyhlbHMsIE1hdGgubWF4KE1hdGgubWluKCh0aW1lIC0gc3RhcnRUaW1lKSAvIHBhcmFtcy5kdXJhdGlvbiwgMSksIDApLCBzdGFydFRpbWUgKyBwYXJhbXMuZHVyYXRpb24gLSB0aW1lIDwgMCA/IDAgOiBzdGFydFRpbWUgKyBwYXJhbXMuZHVyYXRpb24gLSB0aW1lLCBzdGFydFRpbWUpO1xuICAgICAgICB9XG5cbiAgICAgICAgZWxlbWVudHMuZm9yRWFjaChlbGVtZW50ID0+IHtcbiAgICAgICAgICBjb25zdCBlbCA9IGVsZW1lbnQ7XG4gICAgICAgICAgaWYgKGRvbmUgfHwgZWwuZG9uZSkgcmV0dXJuO1xuICAgICAgICAgIE9iamVjdC5rZXlzKHByb3BzKS5mb3JFYWNoKHByb3AgPT4ge1xuICAgICAgICAgICAgaWYgKGRvbmUgfHwgZWwuZG9uZSkgcmV0dXJuO1xuICAgICAgICAgICAgcHJvZ3Jlc3MgPSBNYXRoLm1heChNYXRoLm1pbigodGltZSAtIHN0YXJ0VGltZSkgLyBwYXJhbXMuZHVyYXRpb24sIDEpLCAwKTtcbiAgICAgICAgICAgIGVhc2VQcm9ncmVzcyA9IGEuZWFzaW5nUHJvZ3Jlc3MocGFyYW1zLmVhc2luZywgcHJvZ3Jlc3MpO1xuICAgICAgICAgICAgY29uc3Qge1xuICAgICAgICAgICAgICBpbml0aWFsVmFsdWUsXG4gICAgICAgICAgICAgIGZpbmFsVmFsdWUsXG4gICAgICAgICAgICAgIHVuaXRcbiAgICAgICAgICAgIH0gPSBlbFtwcm9wXTtcbiAgICAgICAgICAgIGVsW3Byb3BdLmN1cnJlbnRWYWx1ZSA9IGluaXRpYWxWYWx1ZSArIGVhc2VQcm9ncmVzcyAqIChmaW5hbFZhbHVlIC0gaW5pdGlhbFZhbHVlKTtcbiAgICAgICAgICAgIGNvbnN0IGN1cnJlbnRWYWx1ZSA9IGVsW3Byb3BdLmN1cnJlbnRWYWx1ZTtcblxuICAgICAgICAgICAgaWYgKGZpbmFsVmFsdWUgPiBpbml0aWFsVmFsdWUgJiYgY3VycmVudFZhbHVlID49IGZpbmFsVmFsdWUgfHwgZmluYWxWYWx1ZSA8IGluaXRpYWxWYWx1ZSAmJiBjdXJyZW50VmFsdWUgPD0gZmluYWxWYWx1ZSkge1xuICAgICAgICAgICAgICBlbC5jb250YWluZXIuc3R5bGVbcHJvcF0gPSBmaW5hbFZhbHVlICsgdW5pdDtcbiAgICAgICAgICAgICAgcHJvcHNEb25lICs9IDE7XG5cbiAgICAgICAgICAgICAgaWYgKHByb3BzRG9uZSA9PT0gT2JqZWN0LmtleXMocHJvcHMpLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIGVsLmRvbmUgPSB0cnVlO1xuICAgICAgICAgICAgICAgIGVsZW1lbnRzRG9uZSArPSAxO1xuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgaWYgKGVsZW1lbnRzRG9uZSA9PT0gZWxlbWVudHMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgZG9uZSA9IHRydWU7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGRvbmUpIHtcbiAgICAgICAgICAgICAgYS5kb25lKHBhcmFtcy5jb21wbGV0ZSk7XG4gICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZWwuY29udGFpbmVyLnN0eWxlW3Byb3BdID0gY3VycmVudFZhbHVlICsgdW5pdDtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIGlmIChkb25lKSByZXR1cm47IC8vIFRoZW4gY2FsbFxuXG4gICAgICAgIGEuZnJhbWVJZCA9IHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUocmVuZGVyKTtcbiAgICAgIH1cblxuICAgICAgYS5mcmFtZUlkID0gd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZShyZW5kZXIpO1xuICAgICAgcmV0dXJuIGE7XG4gICAgfVxuXG4gIH07XG5cbiAgaWYgKGEuZWxlbWVudHMubGVuZ3RoID09PSAwKSB7XG4gICAgcmV0dXJuIGVscztcbiAgfVxuXG4gIGxldCBhbmltYXRlSW5zdGFuY2U7XG5cbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBhLmVsZW1lbnRzLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgaWYgKGEuZWxlbWVudHNbaV0uZG9tN0FuaW1hdGVJbnN0YW5jZSkge1xuICAgICAgYW5pbWF0ZUluc3RhbmNlID0gYS5lbGVtZW50c1tpXS5kb203QW5pbWF0ZUluc3RhbmNlO1xuICAgIH0gZWxzZSBhLmVsZW1lbnRzW2ldLmRvbTdBbmltYXRlSW5zdGFuY2UgPSBhO1xuICB9XG5cbiAgaWYgKCFhbmltYXRlSW5zdGFuY2UpIHtcbiAgICBhbmltYXRlSW5zdGFuY2UgPSBhO1xuICB9XG5cbiAgaWYgKGluaXRpYWxQcm9wcyA9PT0gJ3N0b3AnKSB7XG4gICAgYW5pbWF0ZUluc3RhbmNlLnN0b3AoKTtcbiAgfSBlbHNlIHtcbiAgICBhbmltYXRlSW5zdGFuY2UuYW5pbWF0ZShhLnByb3BzLCBhLnBhcmFtcyk7XG4gIH1cblxuICByZXR1cm4gZWxzO1xufVxuXG5mdW5jdGlvbiBzdG9wKCkge1xuICBjb25zdCBlbHMgPSB0aGlzO1xuXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgZWxzLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgaWYgKGVsc1tpXS5kb203QW5pbWF0ZUluc3RhbmNlKSB7XG4gICAgICBlbHNbaV0uZG9tN0FuaW1hdGVJbnN0YW5jZS5zdG9wKCk7XG4gICAgfVxuICB9XG59XG5cbmNvbnN0IG5vVHJpZ2dlciA9ICdyZXNpemUgc2Nyb2xsJy5zcGxpdCgnICcpO1xuXG5mdW5jdGlvbiBzaG9ydGN1dChuYW1lKSB7XG4gIGZ1bmN0aW9uIGV2ZW50SGFuZGxlciguLi5hcmdzKSB7XG4gICAgaWYgKHR5cGVvZiBhcmdzWzBdID09PSAndW5kZWZpbmVkJykge1xuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgICAgIGlmIChub1RyaWdnZXIuaW5kZXhPZihuYW1lKSA8IDApIHtcbiAgICAgICAgICBpZiAobmFtZSBpbiB0aGlzW2ldKSB0aGlzW2ldW25hbWVdKCk7ZWxzZSB7XG4gICAgICAgICAgICAkKHRoaXNbaV0pLnRyaWdnZXIobmFtZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzLm9uKG5hbWUsIC4uLmFyZ3MpO1xuICB9XG5cbiAgcmV0dXJuIGV2ZW50SGFuZGxlcjtcbn1cblxuY29uc3QgY2xpY2sgPSBzaG9ydGN1dCgnY2xpY2snKTtcbmNvbnN0IGJsdXIgPSBzaG9ydGN1dCgnYmx1cicpO1xuY29uc3QgZm9jdXMgPSBzaG9ydGN1dCgnZm9jdXMnKTtcbmNvbnN0IGZvY3VzaW4gPSBzaG9ydGN1dCgnZm9jdXNpbicpO1xuY29uc3QgZm9jdXNvdXQgPSBzaG9ydGN1dCgnZm9jdXNvdXQnKTtcbmNvbnN0IGtleXVwID0gc2hvcnRjdXQoJ2tleXVwJyk7XG5jb25zdCBrZXlkb3duID0gc2hvcnRjdXQoJ2tleWRvd24nKTtcbmNvbnN0IGtleXByZXNzID0gc2hvcnRjdXQoJ2tleXByZXNzJyk7XG5jb25zdCBzdWJtaXQgPSBzaG9ydGN1dCgnc3VibWl0Jyk7XG5jb25zdCBjaGFuZ2UgPSBzaG9ydGN1dCgnY2hhbmdlJyk7XG5jb25zdCBtb3VzZWRvd24gPSBzaG9ydGN1dCgnbW91c2Vkb3duJyk7XG5jb25zdCBtb3VzZW1vdmUgPSBzaG9ydGN1dCgnbW91c2Vtb3ZlJyk7XG5jb25zdCBtb3VzZXVwID0gc2hvcnRjdXQoJ21vdXNldXAnKTtcbmNvbnN0IG1vdXNlZW50ZXIgPSBzaG9ydGN1dCgnbW91c2VlbnRlcicpO1xuY29uc3QgbW91c2VsZWF2ZSA9IHNob3J0Y3V0KCdtb3VzZWxlYXZlJyk7XG5jb25zdCBtb3VzZW91dCA9IHNob3J0Y3V0KCdtb3VzZW91dCcpO1xuY29uc3QgbW91c2VvdmVyID0gc2hvcnRjdXQoJ21vdXNlb3ZlcicpO1xuY29uc3QgdG91Y2hzdGFydCA9IHNob3J0Y3V0KCd0b3VjaHN0YXJ0Jyk7XG5jb25zdCB0b3VjaGVuZCA9IHNob3J0Y3V0KCd0b3VjaGVuZCcpO1xuY29uc3QgdG91Y2htb3ZlID0gc2hvcnRjdXQoJ3RvdWNobW92ZScpO1xuY29uc3QgcmVzaXplID0gc2hvcnRjdXQoJ3Jlc2l6ZScpO1xuY29uc3Qgc2Nyb2xsID0gc2hvcnRjdXQoJ3Njcm9sbCcpO1xuXG5leHBvcnQgZGVmYXVsdCAkO1xuZXhwb3J0IHsgJCwgYWRkLCBhZGRDbGFzcywgYW5pbWF0ZSwgYW5pbWF0aW9uRW5kLCBhcHBlbmQsIGFwcGVuZFRvLCBhdHRyLCBibHVyLCBjaGFuZ2UsIGNoaWxkcmVuLCBjbGljaywgY2xvc2VzdCwgY3NzLCBkYXRhLCBkYXRhc2V0LCBkZXRhY2gsIGVhY2gsIGVtcHR5LCBlcSwgZmlsdGVyLCBmaW5kLCBmb2N1cywgZm9jdXNpbiwgZm9jdXNvdXQsIGhhc0NsYXNzLCBoZWlnaHQsIGhpZGUsIGh0bWwsIGluZGV4LCBpbnNlcnRBZnRlciwgaW5zZXJ0QmVmb3JlLCBpcywga2V5ZG93biwga2V5cHJlc3MsIGtleXVwLCBtb3VzZWRvd24sIG1vdXNlZW50ZXIsIG1vdXNlbGVhdmUsIG1vdXNlbW92ZSwgbW91c2VvdXQsIG1vdXNlb3ZlciwgbW91c2V1cCwgbmV4dCwgbmV4dEFsbCwgb2ZmLCBvZmZzZXQsIG9uLCBvbmNlLCBvdXRlckhlaWdodCwgb3V0ZXJXaWR0aCwgcGFyZW50LCBwYXJlbnRzLCBwcmVwZW5kLCBwcmVwZW5kVG8sIHByZXYsIHByZXZBbGwsIHByb3AsIHJlbW92ZSwgcmVtb3ZlQXR0ciwgcmVtb3ZlQ2xhc3MsIHJlbW92ZURhdGEsIHJlc2l6ZSwgc2Nyb2xsLCBzY3JvbGxMZWZ0LCBzY3JvbGxUbywgc2Nyb2xsVG9wLCBzaG93LCBzaWJsaW5ncywgc3RvcCwgc3R5bGVzLCBzdWJtaXQsIHRleHQsIHRvZ2dsZUNsYXNzLCB0b3VjaGVuZCwgdG91Y2htb3ZlLCB0b3VjaHN0YXJ0LCB0cmFuc2Zvcm0sIHRyYW5zaXRpb24sIHRyYW5zaXRpb25FbmQsIHRyaWdnZXIsIHZhbCwgdmFsdWUsIHdpZHRoIH07XG4iLCIvKipcbiAqIFNTUiBXaW5kb3cgNC4wLjJcbiAqIEJldHRlciBoYW5kbGluZyBmb3Igd2luZG93IG9iamVjdCBpbiBTU1IgZW52aXJvbm1lbnRcbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9ub2xpbWl0czR3ZWIvc3NyLXdpbmRvd1xuICpcbiAqIENvcHlyaWdodCAyMDIxLCBWbGFkaW1pciBLaGFybGFtcGlkaVxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIE1JVFxuICpcbiAqIFJlbGVhc2VkIG9uOiBEZWNlbWJlciAxMywgMjAyMVxuICovXG4vKiBlc2xpbnQtZGlzYWJsZSBuby1wYXJhbS1yZWFzc2lnbiAqL1xuZnVuY3Rpb24gaXNPYmplY3Qob2JqKSB7XG4gICAgcmV0dXJuIChvYmogIT09IG51bGwgJiZcbiAgICAgICAgdHlwZW9mIG9iaiA9PT0gJ29iamVjdCcgJiZcbiAgICAgICAgJ2NvbnN0cnVjdG9yJyBpbiBvYmogJiZcbiAgICAgICAgb2JqLmNvbnN0cnVjdG9yID09PSBPYmplY3QpO1xufVxuZnVuY3Rpb24gZXh0ZW5kKHRhcmdldCA9IHt9LCBzcmMgPSB7fSkge1xuICAgIE9iamVjdC5rZXlzKHNyYykuZm9yRWFjaCgoa2V5KSA9PiB7XG4gICAgICAgIGlmICh0eXBlb2YgdGFyZ2V0W2tleV0gPT09ICd1bmRlZmluZWQnKVxuICAgICAgICAgICAgdGFyZ2V0W2tleV0gPSBzcmNba2V5XTtcbiAgICAgICAgZWxzZSBpZiAoaXNPYmplY3Qoc3JjW2tleV0pICYmXG4gICAgICAgICAgICBpc09iamVjdCh0YXJnZXRba2V5XSkgJiZcbiAgICAgICAgICAgIE9iamVjdC5rZXlzKHNyY1trZXldKS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBleHRlbmQodGFyZ2V0W2tleV0sIHNyY1trZXldKTtcbiAgICAgICAgfVxuICAgIH0pO1xufVxuXG5jb25zdCBzc3JEb2N1bWVudCA9IHtcbiAgICBib2R5OiB7fSxcbiAgICBhZGRFdmVudExpc3RlbmVyKCkgeyB9LFxuICAgIHJlbW92ZUV2ZW50TGlzdGVuZXIoKSB7IH0sXG4gICAgYWN0aXZlRWxlbWVudDoge1xuICAgICAgICBibHVyKCkgeyB9LFxuICAgICAgICBub2RlTmFtZTogJycsXG4gICAgfSxcbiAgICBxdWVyeVNlbGVjdG9yKCkge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9LFxuICAgIHF1ZXJ5U2VsZWN0b3JBbGwoKSB7XG4gICAgICAgIHJldHVybiBbXTtcbiAgICB9LFxuICAgIGdldEVsZW1lbnRCeUlkKCkge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9LFxuICAgIGNyZWF0ZUV2ZW50KCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgaW5pdEV2ZW50KCkgeyB9LFxuICAgICAgICB9O1xuICAgIH0sXG4gICAgY3JlYXRlRWxlbWVudCgpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGNoaWxkcmVuOiBbXSxcbiAgICAgICAgICAgIGNoaWxkTm9kZXM6IFtdLFxuICAgICAgICAgICAgc3R5bGU6IHt9LFxuICAgICAgICAgICAgc2V0QXR0cmlidXRlKCkgeyB9LFxuICAgICAgICAgICAgZ2V0RWxlbWVudHNCeVRhZ05hbWUoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfTtcbiAgICB9LFxuICAgIGNyZWF0ZUVsZW1lbnROUygpIHtcbiAgICAgICAgcmV0dXJuIHt9O1xuICAgIH0sXG4gICAgaW1wb3J0Tm9kZSgpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfSxcbiAgICBsb2NhdGlvbjoge1xuICAgICAgICBoYXNoOiAnJyxcbiAgICAgICAgaG9zdDogJycsXG4gICAgICAgIGhvc3RuYW1lOiAnJyxcbiAgICAgICAgaHJlZjogJycsXG4gICAgICAgIG9yaWdpbjogJycsXG4gICAgICAgIHBhdGhuYW1lOiAnJyxcbiAgICAgICAgcHJvdG9jb2w6ICcnLFxuICAgICAgICBzZWFyY2g6ICcnLFxuICAgIH0sXG59O1xuZnVuY3Rpb24gZ2V0RG9jdW1lbnQoKSB7XG4gICAgY29uc3QgZG9jID0gdHlwZW9mIGRvY3VtZW50ICE9PSAndW5kZWZpbmVkJyA/IGRvY3VtZW50IDoge307XG4gICAgZXh0ZW5kKGRvYywgc3NyRG9jdW1lbnQpO1xuICAgIHJldHVybiBkb2M7XG59XG5cbmNvbnN0IHNzcldpbmRvdyA9IHtcbiAgICBkb2N1bWVudDogc3NyRG9jdW1lbnQsXG4gICAgbmF2aWdhdG9yOiB7XG4gICAgICAgIHVzZXJBZ2VudDogJycsXG4gICAgfSxcbiAgICBsb2NhdGlvbjoge1xuICAgICAgICBoYXNoOiAnJyxcbiAgICAgICAgaG9zdDogJycsXG4gICAgICAgIGhvc3RuYW1lOiAnJyxcbiAgICAgICAgaHJlZjogJycsXG4gICAgICAgIG9yaWdpbjogJycsXG4gICAgICAgIHBhdGhuYW1lOiAnJyxcbiAgICAgICAgcHJvdG9jb2w6ICcnLFxuICAgICAgICBzZWFyY2g6ICcnLFxuICAgIH0sXG4gICAgaGlzdG9yeToge1xuICAgICAgICByZXBsYWNlU3RhdGUoKSB7IH0sXG4gICAgICAgIHB1c2hTdGF0ZSgpIHsgfSxcbiAgICAgICAgZ28oKSB7IH0sXG4gICAgICAgIGJhY2soKSB7IH0sXG4gICAgfSxcbiAgICBDdXN0b21FdmVudDogZnVuY3Rpb24gQ3VzdG9tRXZlbnQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sXG4gICAgYWRkRXZlbnRMaXN0ZW5lcigpIHsgfSxcbiAgICByZW1vdmVFdmVudExpc3RlbmVyKCkgeyB9LFxuICAgIGdldENvbXB1dGVkU3R5bGUoKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBnZXRQcm9wZXJ0eVZhbHVlKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiAnJztcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH07XG4gICAgfSxcbiAgICBJbWFnZSgpIHsgfSxcbiAgICBEYXRlKCkgeyB9LFxuICAgIHNjcmVlbjoge30sXG4gICAgc2V0VGltZW91dCgpIHsgfSxcbiAgICBjbGVhclRpbWVvdXQoKSB7IH0sXG4gICAgbWF0Y2hNZWRpYSgpIHtcbiAgICAgICAgcmV0dXJuIHt9O1xuICAgIH0sXG4gICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKGNhbGxiYWNrKSB7XG4gICAgICAgIGlmICh0eXBlb2Ygc2V0VGltZW91dCA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgIGNhbGxiYWNrKCk7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc2V0VGltZW91dChjYWxsYmFjaywgMCk7XG4gICAgfSxcbiAgICBjYW5jZWxBbmltYXRpb25GcmFtZShpZCkge1xuICAgICAgICBpZiAodHlwZW9mIHNldFRpbWVvdXQgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY2xlYXJUaW1lb3V0KGlkKTtcbiAgICB9LFxufTtcbmZ1bmN0aW9uIGdldFdpbmRvdygpIHtcbiAgICBjb25zdCB3aW4gPSB0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyA/IHdpbmRvdyA6IHt9O1xuICAgIGV4dGVuZCh3aW4sIHNzcldpbmRvdyk7XG4gICAgcmV0dXJuIHdpbjtcbn1cblxuZXhwb3J0IHsgZXh0ZW5kLCBnZXREb2N1bWVudCwgZ2V0V2luZG93LCBzc3JEb2N1bWVudCwgc3NyV2luZG93IH07XG4iXSwibmFtZXMiOlsibW9kdWxlIiwiZXhwb3J0cyIsImNzc1dpdGhNYXBwaW5nVG9TdHJpbmciLCJsaXN0IiwidG9TdHJpbmciLCJ0aGlzIiwibWFwIiwiaXRlbSIsImNvbnRlbnQiLCJjb25jYXQiLCJqb2luIiwiaSIsIm1vZHVsZXMiLCJtZWRpYVF1ZXJ5IiwiZGVkdXBlIiwiYWxyZWFkeUltcG9ydGVkTW9kdWxlcyIsImxlbmd0aCIsImlkIiwiX2kiLCJwdXNoIiwiX3NsaWNlZFRvQXJyYXkiLCJhcnIiLCJBcnJheSIsImlzQXJyYXkiLCJfYXJyYXlXaXRoSG9sZXMiLCJTeW1ib2wiLCJpdGVyYXRvciIsIl9zIiwiX2UiLCJfYXJyIiwiX24iLCJfZCIsImNhbGwiLCJuZXh0IiwiZG9uZSIsInZhbHVlIiwiZXJyIiwiX2l0ZXJhYmxlVG9BcnJheUxpbWl0IiwibyIsIm1pbkxlbiIsIl9hcnJheUxpa2VUb0FycmF5IiwibiIsIk9iamVjdCIsInByb3RvdHlwZSIsInNsaWNlIiwiY29uc3RydWN0b3IiLCJuYW1lIiwiZnJvbSIsInRlc3QiLCJfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkiLCJUeXBlRXJyb3IiLCJfbm9uSXRlcmFibGVSZXN0IiwibGVuIiwiYXJyMiIsIl9pdGVtIiwiY3NzTWFwcGluZyIsImJ0b2EiLCJiYXNlNjQiLCJ1bmVzY2FwZSIsImVuY29kZVVSSUNvbXBvbmVudCIsIkpTT04iLCJzdHJpbmdpZnkiLCJkYXRhIiwic291cmNlTWFwcGluZyIsInNvdXJjZVVSTHMiLCJzb3VyY2VzIiwic291cmNlIiwic291cmNlUm9vdCIsIndpbmRvdyIsImpRdWVyeSIsIiQiLCJyZXF1aXJlIiwib24iLCJlIiwiY3VycmVudFRhcmdldCIsInBhcmVudCIsImZpbmQiLCJ0cmlnZ2VyIiwiYWRkQ2xhc3MiLCJyZW1vdmVDbGFzcyIsInByZXZlbnREZWZhdWx0Iiwic3RvcFByb3BhZ2F0aW9uIiwibWVudV9idXR0b24iLCJtZW51X2xpbmsiLCJtZW51X2l0ZW0iLCJjb25zb2xlIiwibG9nIiwiaGFzQ2xhc3MiLCJhZGQiLCJhdHRyIiwic2libGluZ3MiLCJkb2N1bWVudCIsImNsaWNrIiwiU3dpcGVyIiwic2Nyb2xsVG9Ub3BCdXR0b24iLCJnZXRFbGVtZW50QnlJZCIsImFkZEV2ZW50TGlzdGVuZXIiLCJ5Iiwic2Nyb2xsWSIsImNsYXNzTmFtZSIsIiRhY2NvcmRpb25faGVhZGVyIiwic2V0dGluZ3MiLCJhY2NvcmRpb24iLCJzcGVlZCIsIm9uZU9wZW4iLCJpbml0IiwiJHNldHRpbmdzIiwidG9nZ2xlIiwiZXh0ZW5kIiwic2hvdyIsIiR0aGlzIiwiY2xvc2VzdCIsInNsaWRlVXAiLCJ0b2dnbGVDbGFzcyIsInN0b3AiLCJzbGlkZVRvZ2dsZSIsIk5hdmlnYXRpb24iLCJQYWdpbmF0aW9uIiwiZGlyZWN0aW9uIiwiYTExeSIsImF1dG9wbGF5IiwiY2VudGVyZWRTbGlkZXMiLCJzbGlkZXNQZXJWaWV3IiwicGFnaW5hdGlvbiIsImVsIiwiY2xpY2thYmxlIiwibmF2aWdhdGlvbiIsIm5leHRFbCIsInByZXZFbCIsInNjcm9sbGJhciIsIm1lbW8iLCJpc09sZElFIiwiQm9vbGVhbiIsImFsbCIsImF0b2IiLCJnZXRUYXJnZXQiLCJ0YXJnZXQiLCJzdHlsZVRhcmdldCIsInF1ZXJ5U2VsZWN0b3IiLCJIVE1MSUZyYW1lRWxlbWVudCIsImNvbnRlbnREb2N1bWVudCIsImhlYWQiLCJzdHlsZXNJbkRvbSIsImdldEluZGV4QnlJZGVudGlmaWVyIiwiaWRlbnRpZmllciIsInJlc3VsdCIsIm1vZHVsZXNUb0RvbSIsIm9wdGlvbnMiLCJpZENvdW50TWFwIiwiaWRlbnRpZmllcnMiLCJiYXNlIiwiY291bnQiLCJpbmRleCIsIm9iaiIsImNzcyIsIm1lZGlhIiwic291cmNlTWFwIiwicmVmZXJlbmNlcyIsInVwZGF0ZXIiLCJhZGRTdHlsZSIsImluc2VydFN0eWxlRWxlbWVudCIsInN0eWxlIiwiY3JlYXRlRWxlbWVudCIsImF0dHJpYnV0ZXMiLCJub25jZSIsImtleXMiLCJmb3JFYWNoIiwia2V5Iiwic2V0QXR0cmlidXRlIiwiaW5zZXJ0IiwiRXJyb3IiLCJhcHBlbmRDaGlsZCIsInRleHRTdG9yZSIsInJlcGxhY2VUZXh0IiwicmVwbGFjZW1lbnQiLCJmaWx0ZXIiLCJhcHBseVRvU2luZ2xldG9uVGFnIiwicmVtb3ZlIiwic3R5bGVTaGVldCIsImNzc1RleHQiLCJjc3NOb2RlIiwiY3JlYXRlVGV4dE5vZGUiLCJjaGlsZE5vZGVzIiwicmVtb3ZlQ2hpbGQiLCJpbnNlcnRCZWZvcmUiLCJhcHBseVRvVGFnIiwicmVtb3ZlQXR0cmlidXRlIiwiZmlyc3RDaGlsZCIsInNpbmdsZXRvbiIsInNpbmdsZXRvbkNvdW50ZXIiLCJ1cGRhdGUiLCJzdHlsZUluZGV4IiwiYmluZCIsInBhcmVudE5vZGUiLCJyZW1vdmVTdHlsZUVsZW1lbnQiLCJuZXdPYmoiLCJsYXN0SWRlbnRpZmllcnMiLCJuZXdMaXN0IiwibmV3TGFzdElkZW50aWZpZXJzIiwiX2luZGV4Iiwic3BsaWNlIiwiRG9tNyIsIml0ZW1zIiwic3VwZXIiLCJwcm90byIsIl9fcHJvdG9fXyIsImRlZmluZVByb3BlcnR5IiwiZ2V0Iiwic2V0IiwibWFrZVJlYWN0aXZlIiwiYXJyYXlGbGF0IiwicmVzIiwiYXJyYXlGaWx0ZXIiLCJjYWxsYmFjayIsInNlbGVjdG9yIiwiY29udGV4dCIsImdldFdpbmRvdyIsImdldERvY3VtZW50IiwiaHRtbCIsInRyaW0iLCJpbmRleE9mIiwidG9DcmVhdGUiLCJ0ZW1wUGFyZW50IiwiaW5uZXJIVE1MIiwiYSIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJxc2EiLCJub2RlVHlwZSIsInVuaXF1ZUFycmF5IiwiYXJyYXlVbmlxdWUiLCJjbGFzc2VzIiwiY2xhc3NOYW1lcyIsImMiLCJzcGxpdCIsImNsYXNzTGlzdCIsImNvbnRhaW5zIiwiYXR0cnMiLCJhcmd1bWVudHMiLCJnZXRBdHRyaWJ1dGUiLCJhdHRyTmFtZSIsInJlbW92ZUF0dHIiLCJ0cmFuc2Zvcm0iLCJ0cmFuc2l0aW9uIiwiZHVyYXRpb24iLCJ0cmFuc2l0aW9uRHVyYXRpb24iLCJhcmdzIiwiZXZlbnRUeXBlIiwidGFyZ2V0U2VsZWN0b3IiLCJsaXN0ZW5lciIsImNhcHR1cmUiLCJoYW5kbGVMaXZlRXZlbnQiLCJldmVudERhdGEiLCJkb203RXZlbnREYXRhIiwidW5zaGlmdCIsImlzIiwiYXBwbHkiLCJwYXJlbnRzIiwiayIsImhhbmRsZUV2ZW50IiwidW5kZWZpbmVkIiwiZXZlbnRzIiwiaiIsImV2ZW50IiwiZG9tN0xpdmVMaXN0ZW5lcnMiLCJwcm94eUxpc3RlbmVyIiwiZG9tN0xpc3RlbmVycyIsIm9mZiIsImhhbmRsZXJzIiwiaGFuZGxlciIsImRvbTdwcm94eSIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJDdXN0b21FdmVudCIsImV2dCIsImRldGFpbCIsImJ1YmJsZXMiLCJjYW5jZWxhYmxlIiwiZGF0YUluZGV4IiwiZGlzcGF0Y2hFdmVudCIsInRyYW5zaXRpb25FbmQiLCJkb20iLCJmaXJlQ2FsbEJhY2siLCJvdXRlcldpZHRoIiwiaW5jbHVkZU1hcmdpbnMiLCJzdHlsZXMiLCJvZmZzZXRXaWR0aCIsInBhcnNlRmxvYXQiLCJnZXRQcm9wZXJ0eVZhbHVlIiwib3V0ZXJIZWlnaHQiLCJvZmZzZXRIZWlnaHQiLCJvZmZzZXQiLCJib3giLCJnZXRCb3VuZGluZ0NsaWVudFJlY3QiLCJib2R5IiwiY2xpZW50VG9wIiwiY2xpZW50TGVmdCIsInNjcm9sbFRvcCIsInNjcm9sbExlZnQiLCJzY3JvbGxYIiwidG9wIiwibGVmdCIsImdldENvbXB1dGVkU3R5bGUiLCJwcm9wcyIsInByb3AiLCJlYWNoIiwidGV4dCIsInRleHRDb250ZW50IiwiY29tcGFyZVdpdGgiLCJtYXRjaGVzIiwid2Via2l0TWF0Y2hlc1NlbGVjdG9yIiwibXNNYXRjaGVzU2VsZWN0b3IiLCJjaGlsZCIsInByZXZpb3VzU2libGluZyIsImVxIiwicmV0dXJuSW5kZXgiLCJhcHBlbmQiLCJlbHMiLCJuZXdDaGlsZCIsInRlbXBEaXYiLCJwcmVwZW5kIiwibmV4dEVsZW1lbnRTaWJsaW5nIiwibmV4dEFsbCIsIm5leHRFbHMiLCJwcmV2IiwicHJldmlvdXNFbGVtZW50U2libGluZyIsInByZXZBbGwiLCJwcmV2RWxzIiwiZm91bmRFbGVtZW50cyIsImZvdW5kIiwiY2hpbGRyZW4iLCJmbiIsIm5vVHJpZ2dlciIsInNob3J0Y3V0IiwiaXNPYmplY3QiLCJzcmMiLCJzc3JEb2N1bWVudCIsImFjdGl2ZUVsZW1lbnQiLCJibHVyIiwibm9kZU5hbWUiLCJjcmVhdGVFdmVudCIsImluaXRFdmVudCIsImdldEVsZW1lbnRzQnlUYWdOYW1lIiwiY3JlYXRlRWxlbWVudE5TIiwiaW1wb3J0Tm9kZSIsImxvY2F0aW9uIiwiaGFzaCIsImhvc3QiLCJob3N0bmFtZSIsImhyZWYiLCJvcmlnaW4iLCJwYXRobmFtZSIsInByb3RvY29sIiwic2VhcmNoIiwiZG9jIiwic3NyV2luZG93IiwibmF2aWdhdG9yIiwidXNlckFnZW50IiwiaGlzdG9yeSIsInJlcGxhY2VTdGF0ZSIsInB1c2hTdGF0ZSIsImdvIiwiYmFjayIsIkltYWdlIiwiRGF0ZSIsInNjcmVlbiIsInNldFRpbWVvdXQiLCJjbGVhclRpbWVvdXQiLCJtYXRjaE1lZGlhIiwicmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwiY2FuY2VsQW5pbWF0aW9uRnJhbWUiLCJ3aW4iXSwic291cmNlUm9vdCI6IiJ9